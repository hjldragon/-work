webpackJsonp([48],{"/PPE":function(e,t){},EKWq:function(e,t,r){"use strict";(function(e){var s=r("ihY9"),a=r("HPzi");t.a={data:function(){var e=this;return{typeText:!1,typePass:!1,isCantClick:!0,isDetailDialog:!1,suOrfa:!0,repeat:!1,departmentName:"",tipsText:"",ruleForm2:{password:"",checkPass:"",phone:"",pl_name:"",sex:"",remark:"",position_name:"",department_name:"",userId:""},position_id:"",department_id:"",staffId:"",positionArr:[],departmentArr:[],rules:{password:[{required:!0,validator:function(t,r,s){var a=/^[A-Za-z0-9]{6,20}$/;""===r?s(new Error("请输入密码")):(!1===a.test(r)&&s(new Error("密码格式必须可以是字母、数字，不能使用特殊字符，长度在6-20之间")),""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.ruleForm2.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],phone:[{required:!0,validator:function(e,t,r){return t?!1===/^(0|86|17951)?(13[0-9]|15[012356789]|18[0-9]|14[57]|17[678])[0-9]{8}$/.test(t)?r(new Error("请输入合法的电话号码")):void r():r(new Error("请输入电话号码"))},trigger:"blur"}],pl_name:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入联系人姓名")):!1===/^[\u4E00-\u9FA5A-Za-z]+$/.test(t)?r(new Error("姓名格式可为中英文，不包括特殊数字和字符")):r()},trigger:"blur"}],position_name:[{required:!0,message:"请选择职位",trigger:"change"}],department_name:[{required:!0,message:"请选择部门",trigger:"change"}],remark:[{validator:function(e,t,r){t&&t.length>150?r(new Error("备注不能超过150字")):r()},trigger:"blur"}]}}},created:function(){var t=this;this.height=document.documentElement.clientHeight-110+"px",e(window).resize(function(){t.height=document.documentElement.clientHeight-110+"px"}),this.editInfoForm(),this.getDepartPosiArr()},computed:{},components:{},methods:{editInfoForm:function(){var t=this;this.$route.query.platformer_id&&(this.staffId=this.$route.query.platformer_id||"");var r={get_platformer_info:1,platformer_id:this.staffId};Object(s.e)(r).then(function(r){0===r.ret&&(t.ruleForm2=r.data.platformer,t.department_id=t.ruleForm2.pl_department_id,t.position_id=t.ruleForm2.pl_position_id,t.ruleForm2.checkPass=r.data.platformer.password,e(".el-input input").width(Object(a.g)(t.ruleForm2.password)+20),t.$route.query.positionName&&(t.ruleForm2.position_name=t.$route.query.positionName,t.position_id=t.$route.query.pl_position_id,t.positionArr=Object(a.e)()),""!==t.ruleForm2.password&&""!==t.ruleForm2.checkPass&&""!==t.ruleForm2.phone&&""!==t.ruleForm2.pl_name&&""!==t.ruleForm2.position_name&&""!==t.ruleForm2.department_name?t.isCantClick=!1:t.isCantClick=!0)})},getDepartPosiArr:function(){this.departmentArr=Object(a.c)(),this.positionArr=Object(a.e)()},addNewPosition:function(){this.isDetailDialog=!this.isDetailDialog},confirmAdd:function(e){var t=this;this.tipsText="新建成功!";var r={pl_department_save:1,pl_department_name:e};Object(s.b)(r).then(function(r){0===r.ret?(t.suOrfa=!1,t.repeat=!1,t.departmentArr=Object(a.c)(),t.ruleForm2.department_name=e,t.department_id=r.data.pl_department_id):-20034===r.ret&&(t.suOrfa=!0,t.repeat=!0)})},handleClose:function(){this.suOrfa=!0,this.isDetailDialog=!1},checkFinishInput:function(e){var t=this;""!==this.ruleForm2.password&&""!==this.ruleForm2.checkPass&&""!==this.ruleForm2.phone&&""!==this.ruleForm2.pl_name&&""!==this.ruleForm2.position_name&&""!==this.ruleForm2.department_name&&this.$refs[e].validate(function(e){e&&(t.department_id=t.ruleForm2.department_name,t.position_id=t.ruleForm2.position_name,t.isCantClick=!1)})},saveInfo:function(){var e=this,t={platformer_save:1,platformer_id:this.ruleForm2.platformer_id,pl_name:this.ruleForm2.pl_name,phone:this.ruleForm2.phone,password:this.ruleForm2.password,re_password:this.ruleForm2.checkPass,remark:this.ruleForm2.remark,pl_position_id:this.position_id,pl_department_id:this.department_id};Object(s.f)(t).then(function(t){0===t.ret&&(e.$router.push({path:"/organzite/list"}),e.$slnotify({message:"保存成功"}))})},cancelInfo:function(){this.$router.push({path:"/organzite/list",query:{activIndex:"1",choosedDepartId:this.$route.query.choosed_depart_id,choosedDepartName:this.$route.query.choosed_depart_name}})},canSeePass:function(){this.typeText=!this.typeText,this.typeText?document.getElementById("type-text-word").type="text":document.getElementById("type-text-word").type="passWord"},cantSeePass:function(){this.typePass=!this.typePass,this.typePass?document.getElementById("type-pass-word").type="text":document.getElementById("type-pass-word").type="passWord"}}}}).call(t,r("tra3"))},GaRJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("EKWq"),a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"staff-detail-cant"}},[r("div",{staticClass:"header"},[r("p",[r("router-link",{attrs:{to:{path:"/organzite/list"}}},[r("span",{staticClass:"black"},[e._v("员工管理")])]),e._v(" "),r("span",{staticClass:"text-green"},[e._v(">")]),e._v(" "),r("span",{staticClass:"text-green"},[e._v("查看员工信息")])],1)]),e._v(" "),r("div",{staticClass:"basic-info",style:{height:e.height}},[e._m(0),e._v(" "),r("div",{staticClass:"info-bord"},[r("div",{staticClass:"bg-img"},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules,"label-width":"150px"}},[r("div",{staticClass:"text-left"},[r("el-form-item",{attrs:{label:"姓名",prop:"pl_name"}},[r("span",[e._v(e._s(e.ruleForm2.pl_name))])]),e._v(" "),r("el-form-item",{attrs:{label:"职位",prop:"position_name"}},[r("span",[e._v(e._s(e.ruleForm2.position_name))])]),e._v(" "),r("el-form-item",{attrs:{label:"部门",prop:"department_name"}},[r("span",[e._v(e._s(e.ruleForm2.department_name))])])],1),e._v(" "),r("div",{staticClass:"text-right"},[r("el-form-item",{staticClass:"tel-phone",attrs:{label:"登录手机",prop:"phone"}},[r("span",[e._v(e._s(e.ruleForm2.phone))])]),e._v(" "),r("el-form-item",{attrs:{label:"登录密码"}},[r("el-input",{attrs:{type:"password",contenteditable:"true",id:"type-pass-word",readonly:"readonly"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}}),e._v(" "),r("i",{staticClass:"iconfont  eye",class:{"icon-yanjing":e.typePass,"icon-yanjing1":!e.typePass},on:{click:e.cantSeePass}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"remar-text",attrs:{label:"备注",prop:"remark"}},[r("div",[e._v(e._s(e.ruleForm2.remark))])])],1),e._v(" "),r("div",{staticClass:"btn-group"},[r("div",{staticClass:"cancel-btn",on:{click:e.cancelInfo}},[e._v("返回")])])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title-bar"},[t("span",{staticClass:"text-strong"},[this._v("员工信息")])])}]},i=function(e){r("atRD"),r("/PPE")},o=r("8AGX")(s.a,a,!1,i,"data-v-7788446d",null);t.default=o.exports},atRD:function(e,t){}});