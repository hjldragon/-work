webpackJsonp([78],{"ZJ5/":function(t,e){},"h++A":function(t,e){},z2pR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("6nXL"),n=a("a2vD"),s=a("D9vu"),l=a("EuEE"),c={data:function(){return{agentid:n.a.getAgentid(),displayData:{agent_type:{label:"代理商类型",value:""},agent_level:{label:"代理商级别",value:""},agent_name:{label:"代理商名称",value:""},login_phone:{label:"代理商登录账号",value:""}},real_name:"",telephone:"",email:"",address:"",contactErr:!1,contactPhoneErr:!1,emailErr:!1,cancelDialogVisible:!1}},computed:{showSaveBtn:function(){return!!(this.real_name&&this.telephone&&this.address)}},created:function(){this.getAgentinfo()},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.adjustHeight;l.a.AdjustHeight(e)})},methods:{getAgentinfo:function(){var t=this,e={agent_info:1,agent_id:this.agentid};Object(s.e)(e).then(function(e){if(0===e.ret){var a=e.data.agent_info;if(!l.a.isEmpty(a.agent_type)){var n=a.agent_type;t.displayData.agent_type.value=i.f.toString(n)}l.a.isEmpty(a.agent_level)||(t.displayData.agent_level.value=i.d.toString(a.agent_level)),t.displayData.agent_name.value=a.agent_name||"",t.displayData.login_phone.value=a.phone,t.real_name=a.real_name,t.telephone=a.telephone,t.email=a.email||"",t.address=a.address}else t.$slnotify({message:i.w.toString(e.ret),duration:1500})})},clearTip:function(){this.contactErr=!1,this.contactPhoneErr=!1,this.emailErr=!1},checkRealName:function(){var t=this.real_name.trim(),e=l.a.checkName(t);return e||(this.contactErr=!0),e},checkTelephone:function(){var t=l.a.checkPhone(this.telephone);return t||(this.contactPhoneErr=!0),t},checkEmail:function(){var t=l.a.checkEmail(this.email);return t||(this.emailErr=!0),t},check:function(){var t=!1;return this.checkTelephone()||(t=!0),this.checkRealName()||(t=!0),""===this.email||this.checkEmail()||(t=!0),t},openCancelDialog:function(){this.cancelDialogVisible=!0},hideCancelDialog:function(){this.cancelDialogVisible=!1},cancelEditor:function(){this.$router.push("/industryagent/agentinfo")},save:function(){var t=this;if(!this.check()){var e={save_agent:1,agent_id:this.agentid,telephone:this.telephone,real_name:this.real_name,address:this.address};this.email&&(e.email=this.email),Object(s.f)(e).then(function(e){0===e.ret?(t.$slnotify({message:"保存成功",duration:1500}),setTimeout(function(){t.$router.push("/industryagent/agentinfo")},1500)):t.$slnotify({message:i.w.toString(e.ret),duration:1500})})}}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"indusagent-baseinfo-editor"}},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/industryagent/agentinfo"}}},[t._v("代理商信息")]),t._v(" "),a("el-breadcrumb-item",[t._v("编辑基础信息")])],1)],1),t._v(" "),a("div",{staticClass:"baseinfo-content"},[t._m(0),t._v(" "),a("div",{staticClass:"editor-content"},[a("div",{staticClass:"display-content"},t._l(t.displayData,function(e,i){return a("div",{staticClass:"item clearfix"},[a("div",{staticClass:"item-left fl"},[a("span",[t._v(t._s(e.label))])]),t._v(" "),a("div",{staticClass:"item-right fl"},[a("span",[t._v(t._s(e.value))])])])})),t._v(" "),a("div",{staticClass:"item clearfix"},[t._m(1),t._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":t.contactErr},attrs:{placeholder:"请输入联系人姓名"},on:{blur:t.checkRealName},nativeOn:{input:function(e){t.clearTip(e)}},model:{value:t.real_name,callback:function(e){t.real_name=e},expression:"real_name"}})],1),t._v(" "),t.contactErr?a("div",{staticClass:"errtip fl"},[a("span",[t._v("请输入中文、字母或数字")])]):t._e()]),t._v(" "),a("div",{staticClass:"item clearfix"},[t._m(2),t._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":t.contactPhoneErr},attrs:{placeholder:"请输入联系人电话"},on:{blur:t.checkTelephone},nativeOn:{input:function(e){t.clearTip(e)}},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),t._v(" "),t.contactPhoneErr?a("div",{staticClass:"errtip fl"},[a("span",[t._v("请输入正确格式的手机")])]):t._e()]),t._v(" "),a("div",{staticClass:"item clearfix"},[t._m(3),t._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":t.emailErr},attrs:{placeholder:"请输入联系人邮箱"},on:{blur:t.checkEmail},nativeOn:{input:function(e){t.clearTip(e)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),t.emailErr?a("div",{staticClass:"errtip fl"},[a("span",[t._v("请输入正确格式的邮箱")])]):t._e()]),t._v(" "),a("div",{staticClass:"item clearfix"},[t._m(4),t._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{attrs:{placeholder:"请输入详细地址"},nativeOn:{input:function(e){t.clearTip(e)}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)]),t._v(" "),a("div",{ref:"adjustHeight"}),t._v(" "),a("div",{staticClass:"btn-group"},[t.showSaveBtn?a("div",{staticClass:"create",on:{click:t.save}},[t._v("保存")]):a("div",{staticClass:"create-disabled"},[t._v("保存")]),t._v(" "),a("div",{staticClass:"cancel",on:{click:t.openCancelDialog}},[t._v("取消")])])])]),t._v(" "),a("el-dialog",{staticClass:"nopadding cancel-dialog",attrs:{visible:t.cancelDialogVisible,width:"600px",top:"35vh",center:""},on:{"update:visible":function(e){t.cancelDialogVisible=e}}},[a("div",{staticClass:"cancel-content"},[a("span",[t._v("将放弃填写内容，确定取消本次编辑？")])]),t._v(" "),a("div",{staticClass:"btn-dialog",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"btn-Dialogok",on:{click:t.cancelEditor}},[t._v("确认")]),t._v(" "),a("div",{staticClass:"btn-Dialogcancel",on:{click:t.hideCancelDialog}},[t._v("取消")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("span",[this._v("基础信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-left fl"},[e("span",{staticClass:"sl-must"},[this._v("联系人")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-left fl"},[e("span",{staticClass:"sl-must"},[this._v("联系电话")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-left fl"},[e("span",[this._v("邮箱")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-left fl"},[e("span",{staticClass:"sl-must"},[this._v("地址")])])}]};var o=a("X4nt")(c,r,!1,function(t){a("ZJ5/"),a("h++A")},"data-v-a6d0efbc",null);e.default=o.exports}});