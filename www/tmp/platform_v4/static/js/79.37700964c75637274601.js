webpackJsonp([79],{CzTJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("aA9S"),s=n.n(i),a=n("4YfN"),o=n.n(a),r=n("r2UX"),l=(n("EuEE"),n("6nXL")),c=n("a2vD"),u=n("9rMa"),f={components:{EmptyTable:r.a},data:function(){return{AgentBusinessStatus:l.a,auditPlan:c.a.getAuditPer(),isAdmin:c.a.getIsAdmin(),wxDialogShow:!1,certiTitle:"",certifiObj:null}},props:{list:{type:[Array,Object],default:function(){return[]}},emptyType:{type:[Number],default:1},businessStatus:{type:[Number,Array]}},computed:o()({isListEmpty:function(){return 0===this.list.length},waitCertifi:function(){return this.businessStatus==l.a.DURING},noCertifi:function(){return this.businessStatus==l.a.NO},errCertifi:function(){return this.businessStatus==l.a.FAIL}},Object(u.d)({ACS:function(t){return t.perimission.sysPermis},PL_K:function(t){return t.perimission.PL_K}})),methods:{certifi:function(t){if(!this.ACS[this.PL_K.AGENT_AUDIT])return this.$slnotify({message:"操作权限不足"});var e=s()({},t);this.$emit("certifi",e)},certifiPro:function(t,e){if(1==e&&!this.ACS[this.PL_K.PL_AGENT_AUDIT_SEE])return this.$slnotify({message:"操作权限不足"});var n=s()({},t);this.$emit("certifiPro",n,e)},certifiPush:function(t){if(!this.ACS[this.PL_K.PL_SAVE_BS])return this.$slnotify({message:"操作权限不足"});var e=s()({},t);this.$emit("certifiPush",e)},certifiApply:function(t){if(!this.ACS[this.PL_K.APPLY_CER])return this.$slnotify({message:"操作权限不足"});var e=s()({},t);this.$emit("certifiApply",e)},handlerOnKey:function(t){this.wxDialogShow=!0,this.certiTitle=t.agent_name,this.certifiObj=s()({},t)},onKeyCerti:function(t){this.wxDialogShow=!1,this.$emit("onKeyCerti",this.certifiObj)},sort:function(t){this.$emit("sort",t)},clearClose:function(){this.wxDialogShow=!1,this.certifiObj={}}},mounted:function(){this.$refs.merchantAuthenticationTable.$refs.bodyWrapper.style.minHeight="460px"}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"certi-table-id"},[n("el-table",{ref:"merchantAuthenticationTable",attrs:{data:t.list,stripe:"","default-sort":{prop:"ctime",order:"descending"}},on:{"sort-change":t.sort}},[n("el-table-column",{attrs:{type:"index",sortable:"",label:"序号",align:"center",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"ctime",label:"新增时间","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("formatTimeD")(e.row.ctime)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"agent_id",label:"ID","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.agent_id))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"agent_type",label:"类型","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("agentType")(e.row.agent_type)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"agent_level",label:"级别","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("agentLevel")(e.row.agent_level)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"shop_name",label:"代理商名称","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.agent_name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.agent_province+e.row.agent_city+e.row.agent_area+e.row.address||"--"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"from_salesman",label:"销售人员","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.real_name||"--"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"from",label:"来源","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.from||"--"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"business_status",label:"认证状态",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:{"err-status":e.row.business_status==t.AgentBusinessStatus.FAIL}},[t._v(t._s(t._f("shopState")(e.row.business_status)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"operate",label:"操作","min-width":"130",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t.waitCertifi?n("span",[t.isAdmin?t._e():n("span",[t.auditPlan==e.row.audit_plan&&null!==e.row.audit_plan?n("span",{staticClass:"examine-btn btn-oprate-blue",on:{click:function(n){t.certifi(e.row)}}},[t._v("审核")]):n("span",{staticClass:"examine-btn btn-oprate-gray"},[t._v("审核")]),t._v(" "),n("span",{staticClass:"examine-btn btn-oprate-green certi-btn-big",on:{click:function(n){t.certifiPro(e.row,1)}}},[t._v("审核进度")])]),t._v(" "),t.isAdmin?n("span",[n("span",{staticClass:"btn-oprate-blue certi-btn-big",on:{click:function(n){t.handlerOnKey(e.row)}}},[t._v("一键审核")])]):t._e()]):t._e(),t._v(" "),t.errCertifi?n("span",[n("span",{staticClass:"examine-btn btn-oprate-blue certi-btn-big",on:{click:function(n){t.certifiPush(e.row)}}},[t._v("补充资料")]),t._v(" "),n("span",{staticClass:"examine-btn btn-oprate-green certi-btn-big",on:{click:function(n){t.certifiPro(e.row,2)}}},[t._v("审核结果")])]):t._e(),t._v(" "),t.noCertifi?n("span",[n("span",{staticClass:"examine-btn btn-oprate-green certi-btn-big",on:{click:function(n){t.certifiApply(e.row)}}},[t._v("申请认证")])]):t._e()]}}])})],1),t._v(" "),t.isListEmpty?n("empty-table",{attrs:{type:t.emptyType}}):t._e(),t._v(" "),n("el-dialog",{attrs:{visible:t.wxDialogShow,top:"35vh",width:"520px"},on:{"update:visible":function(e){t.wxDialogShow=e},close:t.clearClose}},[n("div",[n("div",{staticClass:"head-nav"},[n("span",[t._v("代理商一键审核")])]),t._v(" "),n("div",{staticClass:"dialog-main-c"},[t._v("\n\n        确定一键通过审核 代理商: "+t._s(t.certiTitle)+"?\n      ")]),t._v(" "),n("div",{staticClass:"foot-btn-box"},[n("div",{staticClass:"btn of-btn-bd-m-blue",on:{click:t.clearClose}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"btn save-s-gradient",on:{click:t.onKeyCerti}},[t._v("确定")])])])])],1)},staticRenderFns:[]};var _=n("C7Lr")(f,p,!1,function(t){n("iPUO"),n("zlMY")},"data-v-5968857a",null);e.default=_.exports},iPUO:function(t,e){},zlMY:function(t,e){}});