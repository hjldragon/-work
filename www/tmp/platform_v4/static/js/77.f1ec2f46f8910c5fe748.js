webpackJsonp([77],{Hwk0:function(t,e){},LoPo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("EuEE");var n=a("P9l9"),i=a("6ROu"),s=a.n(i),l=a("r2UX"),r=a("6nXL"),c={data:function(){return{emptyType:1,terninalTypes:[{label:"全部",value:""},{label:r._0.toString(r._0.ONLINE),value:r._0.ONLINE},{label:r._0.toString(r._0.OFFLINE),value:r._0.OFFLINE}],account:"",merchantName:"",shopName:"",terminalName:"",terminalType:"",total:10,listQuery:{page:1,limit:10},tableData:[],dialogFormVisible:!1,oprateData:{}}},components:{EmptyTable:l.a},created:function(){this.getTerminalList()},computed:{isUnBind:function(){return r.Y}},mounted:function(){this.$refs.terminalTable.$refs.bodyWrapper.style.minHeight="473px"},methods:{getTerminalList:function(){var t=this,e={term_list:1,page_size:this.listQuery.limit,page_no:this.listQuery.page};this.shopName&&(e.shop_name=this.shopName),this.account&&(e.phone=this.account),this.terminalType&&(e.is_login=this.terminalType),Object(n._8)(e).then(function(e){0===e.ret?(t.tableData=e.data.list,t.listQuery.page>1&&0===t.tableData.length&&(t.listQuery.page--,t.getTerminalList()),t.total=e.data.total,t.tableData.map(function(t){t.ctime?t.login_time=s()(1e3*t.login_time).format("YYYY.MM.DD  HH:mm"):t.login_time="--",t.term_type?t.term_name_txt=r.O.toString(t.term_type):t.term_name_txt="--",t.is_login||0===t.is_login?t.term_type_txt=r._0.toString(t.is_login):t.term_type_txt="--",t.phone||(t.phone="--"),t.shop_name||(t.shop_name="--")})):t.$slnotify({message:r.X.toString(e.ret)})})},search:function(){this.listQuery.page=1,this.getTerminalList()},unbindMethods:function(t){this.oprateData=t,this.dialogFormVisible=!0},sureUnbind:function(){var t=this;this.dialogFormVisible=!1;var e={term_rebinding:1,term_id:this.oprateData.term_id,employee_id:this.oprateData.employee_id};Object(n._9)(e).then(function(e){0===e.ret?(t.$slnotify({message:"解绑成功"}),t.getTerminalList()):t.$slnotify({message:r.X.toString(e.ret)})})},cancelUnbind:function(){this.dialogFormVisible=!1},handleSizeChange:function(t){this.listQuery.page=1,this.listQuery.limit=t,this.getTerminalList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getTerminalList()}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"terminalset"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"terminal-content"},[a("div",{staticClass:"search-content clearfix search-content-width-fix",attrs:{id:"search-official"}},[a("div",{staticClass:"row-content"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"name fl clearfix search-item margin-left-six"},[t._m(2),t._v(" "),a("div",{staticClass:"fl"},[a("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1)]),t._v(" "),a("div",{staticClass:"name fl clearfix search-item margin-left-six"},[t._m(3),t._v(" "),a("div",{staticClass:"fl"},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)]),t._v(" "),a("div",{staticClass:"name fl clearfix search-item"},[t._m(4),t._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.terminalType,callback:function(e){t.terminalType=e},expression:"terminalType"}},t._l(t.terninalTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("div",{staticClass:"search-btn  of-btn-bd-search fl",on:{click:t.search}},[t._v("\n            搜索\n          ")])])])]),t._v(" "),a("div",{staticClass:"terminal-table change-default"},[a("el-table",{ref:"terminalTable",attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"终端","min-width":"13%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.term_id)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"终端名称","min-width":"10%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.term_name_txt)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"终端状态","min-width":"10%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.term_type_txt)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"账号","min-width":"10%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.phone)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"登录时间","min-width":"10%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.login_time)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"登录店铺","min-width":"14%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.shop_name)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属商户","min-width":"14%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.shop_name)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"15%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"btn-oprate-blue table-btn",attrs:{type:"text"},on:{click:function(a){t.unbindMethods(e.row)}}},[t._v("解绑\n            ")])]}}])})],1),t._v(" "),t.tableData&&0!==t.tableData.length?t._e():a("empty-table",{attrs:{type:t.emptyType}}),t._v(" "),a("div",{staticClass:"page"},[a("div",{staticClass:"pagination-content change-pagination-default"},[a("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.$set(t.listQuery,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.cancelUnbind,top:"35vh"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"head-nav"},[a("span",[t._v("提示信息")])]),t._v(" "),a("div",{staticClass:"dialog-content"},[a("div",{staticClass:"content-txt"},[a("span",{staticClass:"dele-png"}),t._v(" "),a("span",{staticClass:"dele-txt"},[t._v("请确认是否解绑？")])]),t._v(" "),a("div",{staticClass:"content-btn"},[a("div",{staticClass:"of-btn-bd-s-blue sure-btn",on:{click:t.sureUnbind}},[t._v("确定")]),t._v(" "),a("div",{staticClass:"save-mini-gradient",on:{click:t.cancelUnbind}},[t._v("取消")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-own-bar"},[e("span",{staticClass:"cant-click-nav"},[this._v("系统管理")]),this._v("\n    >\n    "),e("span",{staticClass:"current-nav"},[this._v("终端管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"official-title-bar"},[e("span",[this._v("终端列表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("店铺名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("账号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("终端状态")])])}]};var u=a("C7Lr")(c,o,!1,function(t){a("nhfQ"),a("Hwk0")},"data-v-5e891b94",null);e.default=u.exports},nhfQ:function(t,e){}});