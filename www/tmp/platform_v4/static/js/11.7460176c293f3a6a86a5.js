webpackJsonp([11,126],{"+77d":function(e,t){},"5EZk":function(e,t){},"5Nff":function(e,t,i){"use strict";(function(e){var a=i("3cXf"),s=i.n(a),n=i("EU70"),o=i("GAg9"),l=i("9aGi"),r=i("N6PA"),c=(i("wNIt"),i("6nXL")),h=i("a2vD"),f=i("EuEE");t.a={data:function(){return{boxTop:"15vh",dialogVisible:!0,isCanSave:!0,isOfficial:1,isTextBtn:0,BtnText:"",tagSelect:["中餐"],tagSelectCopy:[],tagSelectCopyT:[],shopTag:[{text:c.B.toString(c.B.CHINESE),idx:c.B.CHINESE},{text:c.B.toString(c.B.WESTERN),idx:c.B.WESTERN},{text:c.B.toString(c.B.SOUTHEASTASIA),idx:c.B.SOUTHEASTASIA},{text:c.B.toString(c.B.FAST),idx:c.B.FAST},{text:c.B.toString(c.B.VEGETALE),idx:c.B.VEGETALE},{text:c.B.toString(c.B.CASUAL),idx:c.B.CASUAL},{text:c.B.toString(c.B.DINNER),idx:c.B.DINNER},{text:c.B.toString(c.B.GROUP),idx:c.B.GROUP},{text:c.B.toString(c.B.HOTPOT),idx:c.B.HOTPOT},{text:c.B.toString(c.B.TEADRINK),idx:c.B.TEADRINK},{text:c.B.toString(c.B.INTERNATIONAL),idx:c.B.INTERNATIONAL}],shopTagCopy:[],isShowErrorTip:!1,isDeleteState:!1,imgbase_url:"./php",isShowBigImg:!1,showImg:!1,isImg:!1,isSelectError:!1,canotChangeSrc:"",rules:{shop_name:[{required:!0,validator:function(e,t,i){var a=r.b.isSpacebar(t);t&&""!==t?a?i():i(new Error("店铺名称不能包含空格符")):i(new Error("请输入店铺名称"))},trigger:"blur"}],telephone:[{required:!0,validator:function(e,t,i){var a=r.b.isLandLinePhone(t);return t&&""!==t?a?void i():i(new Error("请输入合法的电话号码")):i(new Error("请输入电话号码"))},trigger:"change,blur"}]},basicInfoFormRules:{address:[{required:!0,validator:function(e,t,i){var a=r.b.isSpacebar(t);t&&""!==t?a?i():i(new Error("地址不能包含空格符")):i(new Error("请输入完整地址"))},trigger:"change,blur"}],shop_area:[{required:!0,validator:function(e,t,i){var a=r.b.isShopArea(t);return t?isNaN(t)?i(new Error("请输入有效的店铺面积")):a?void i():i(new Error("请输入有效的店铺面积(最多保留两位小数)")):i(new Error("请输入店铺面积"))},trigger:"change,blur"}]}}},props:{detailData:{type:Object,required:!0,default:function(){}}},computed:{detailInfo:function(){return this.detailData},isCanCheck:function(){return!!(""!==this.detailInfo.shop_name&&this.detailInfo.shop_name&&""!==this.detailInfo.shop_area&&this.detailInfo.shop_area&&""!==this.detailInfo.telephone&&this.detailInfo.telephone&&""!==this.detailInfo.address&&this.detailInfo.address)},cityinfo:function(){var e={};return e.province=this.detailData.province,e.city=this.detailData.city,e.area=this.detailData.area,e}},components:{citySelect:l.a,PreviewImg:n.a,ImgUpload:o.a},created:function(){if(this.detailData.shop_model){var e=s()(this.detailData.shop_model);this.tagSelect=JSON.parse(e)}""!==this.detailInfo.shop_logo&&null!==this.detailInfo.shop_logo&&(this.isImg=!0,this.isOfficial=0,this.isTextBtn=1,this.BtnText="重新上传"),this.isShowBigImg=!0},mounted:function(){var t=this,i=document.documentElement.clientWidth;this.boxTop=f.a.changeDialogTop("20vh","10vh","1vh",i),e(window).resize(function(){i=document.documentElement.clientWidth,t.boxTop=f.a.changeDialogTop("20vh","10vh","1vh",i)})},methods:{getPhoto:function(e){this.detailInfo.shop_logo=e,""!==this.detailInfo.shop_logo&&null!==this.detailInfo.shop_logo&&(this.isImg=!0,this.isOfficial=0,this.isTextBtn=1,this.BtnText="重新上传"),this.checkFinishInput("basicInfoForm")},handleSure:function(){var e=this;this.$refs.basicInfoForm.validate(function(t){if(!t)return e.$emit("istCanClick"),!1;e.$refs.basicInfoFormr.validate(function(t){if(!t)return e.$emit("istCanClick"),!1;e.detailInfo.shopTagArr=e.detailInfo.shop_model,e.detailInfo.cityinfo=e.cityinfo,e.dialogVisible=!1;h.a.getPlAgentid();var i={shop_save:1,platform:1,shop_id:e.detailInfo.shop_id,agent_id:e.detailInfo.agent_id,shop_name:e.detailInfo.shop_name,shop_logo:e.detailInfo.shop_logo,shop_area:e.detailInfo.shop_area,address:e.detailInfo.address,shop_model:e.detailInfo.shopTagArr,telephone:e.detailInfo.telephone,province:e.cityinfo.province,city:e.cityinfo.city,area:e.cityinfo.area};e.$emit("handleSure",i)})})},handleClose:function(e){this.dialogVisible=!1,this.$refs.basicInfoForm.resetFields(),this.$refs.basicInfoFormr.resetFields(),this.$emit("handleClose")},changeProvinces:function(e){this.cityinfo.province=e.province,this.cityinfo.city=e.city,this.cityinfo.area=e.blocks,""!==this.cityinfo.area&&""!==this.cityinfo.province&&""!==this.cityinfo.city&&this.detailInfo.address?(this.isSelectError=!1,this.checkFinishInput("basicInfoForm")):this.isSelectError=!0},checkFinishInput:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$refs.basicInfoFormr.validate(function(e){e?(t.isCanSave=!0,t.InputFloorNo()):t.isCanSave=!1}):t.isCanSave=!1})},viewImg:function(){this.showImg=!1},InputFloorNo:function(){/^[^ ]+$/.test(this.detailInfo.address)&&this.detailInfo.address?(this.isSelectError=!1,this.isCanSave=!0):(this.isSelectError=!0,this.isCanSave=!1)}}}}).call(t,i("L7Pj"))},"7p9f":function(e,t){},PQGU:function(e,t,i){"use strict";(function(e){var a=i("4YfN"),s=i.n(a),n=i("9rMa"),o=i("P9l9"),l=i("a2vD"),r=i("6nXL"),c=i("aFBZ"),h=i("VGcv"),f=i("XdD8"),d=i("tca8"),p=i("CW5y"),u=i("p0I3"),m=i("mqg/"),_=i("CC2O");t.a={components:{merchantSearch:h.default,merchantTable:f.a,mearchantEdit:d.a,ZTree:u.a},data:function(){return{isSort:!1,sortLabel:"",sortOrder:1,isOfficial:1,employee_name:"",shopName:"",shop_id:"",from:"",begin_time:"",end_time:"",agent_type:"",agent_name:"",employeeNames:[],areaTree:[],defaultProps:{children:"children",label:"label"},isSelect:!0,isHighlight:!0,provinces:"",city:"",area:"",treeDataNew:[],treeDataById:null,list:[],tableHeight:0,emptyType:1,total:10,listQuery:{page:1,limit:10},isOpenEdit:!1,detailData:{},dialogAgent:{},freezeDialogVisible:!1,sucTipDialogVisible:!1,sucTipText:"",sucTipImg:i("3CU3"),AgentIsFreeze:r.b}},created:function(){var t=this;this.areaTree=c.a.getAreaArr(),this.treeInfoMethods(),this.tableHeight=document.documentElement.clientHeight-220+"px",e(window).resize(function(){t.tableHeight=document.documentElement.clientHeight-220+"px"}),this.initDataList(),this.getEmployeeOption(),this.listQuery.limit=p.a.get(this.$route)},computed:s()({},Object(n.d)({ACS:function(e){return e.perimission.sysPermis},PL_K:function(e){return e.perimission.PL_K}})),methods:{treeInfoMethods:function(){var e=c.a.getPlateProvincesArr(),t=m.a.addTitleToTree(e,"所属区域");_.default.set(this.treeDataNew,0,t),m.a.generateKey(this.treeDataNew,0),m.a.initTreeData(this.treeDataNew),this.treeDataByIds(),m.a.changeSelecte("0-0",this.treeDataById)},initDataList:function(){var e=this,t=(l.a.getPlAgentid(),{shop_business_list:1,business_status:2,province:this.provinces,city:this.city,area:this.area,page_size:this.listQuery.limit,page_no:this.listQuery.page,platform:1});this.employee_name&&(t.employee_name=this.employee_name),this.shopName&&(t.shop_name=this.shopName),this.shop_id&&(t.shop_id=this.shop_id),this.from&&(t.from=this.from),this.begin_time&&(t.begin_time=this.begin_time),this.end_time&&(t.end_time=this.end_time),""!==this.agent_type&&(t.agent_type=this.agent_type),this.agent_name&&(t.agent_name=this.agent_name),this.isSort&&(t.sort_name=this.sortLabel,t.desc=this.sortOrder),Object(o._6)(t).then(function(t){0===t.ret?(e.list=t.data.list,e.total=t.data.total,e.listQuery.page>1&&0===e.list.length&&(e.listQuery.page--,e.initDataList())):e.$slnotify({message:r.X.toString(t.ret)})})},getEmployeeOption:function(){var e=this;Object(o._1)({get_pl_salesman_list:1}).then(function(t){0===t.ret?e.employeeNames=t.data.list:e.$slnotify({message:r.X.toString(t.ret)})})},search:function(e){this.employee_name=e.employee_name,this.shopName=e.shop_name,this.shop_id=e.shop_id,this.from=e.from,this.begin_time=e.begin_ctime,this.end_time=e.end_ctime,this.agent_type=e.agentType,this.agent_name=e.agentName,this.emptyType=2,this.listQuery.page=1,this.initDataList()},sort:function(e){this.sortLabel=e.prop,"descending"===e.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===e.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.shopName="",this.employee_name="",this.initDataList()},goDetail:function(e){var t=this;if(this.ACS[this.PL_K.EDIT_SHOP]){this.isOpenEdit=!0;var i={get_shop_info:1,shop_id:e.id,shop_bs_info:1,platform:1};Object(o._6)(i).then(function(e){0===e.ret?t.detailData=e.data.shopinfo:t.$slnotify({message:r.X.toString(e.ret)})})}else this.$slnotify({message:"操作权限不足"})},handleClose:function(){this.isOpenEdit=!1},handleSure:function(e){var t=this;this.isOpenEdit=!1,Object(o._7)(e).then(function(e){0===e.ret?(t.isOpenEdit=!1,t.$slnotify({message:"保存成功",duration:1500})):(t.isOpenEdit=!1,t.$slnotify({message:r.X.toString(e.ret),duration:1500}))}),this.initDataList()},goCreatMerchantOfficial:function(){this.ACS[this.PL_K.ADD_SHOP]?this.$router.push({path:"/officialmanage/creatmerchant",query:{upPath:this.$route.path}}):this.$slnotify({message:"操作权限不足"})},clickShopName:function(e){this.ACS[this.PL_K.SHOP_SEE]?this.$router.push({path:"/officialmanage/merchantdetail",query:{shop_id:e.id}}):this.$slnotify({message:"操作权限不足"})},openReezeDialog:function(e){this.dialogAgent=e,this.dialogAgent.is_freeze===r.b.NO?this.freezeOk():this.freeEnable()},hideReezeDialog:function(){this.freezeDialogVisible=!1},freeEnable:function(){var e=this;if(this.ACS[this.PL_K.START_SHOP]){var t={shop_is_freeze:1,platform:1,shop_id:this.dialogAgent.id,is_freeze:r.b.NO};Object(o._7)(t).then(function(t){0===t.ret?(e.hideReezeDialog(),e.initDataList(),e.$freezenotify({message:"已成功启用 !"})):e.$slnotify({message:r.X.toString(t.ret)})})}else this.$slnotify({message:"操作权限不足"})},freezeOk:function(){var e=this;if(this.ACS[this.PL_K.FREEZE_SHOP]){var t={shop_is_freeze:1,platform:1,shop_id:this.dialogAgent.id,is_freeze:r.b.YES};Object(o._7)(t).then(function(t){0===t.ret?(e.hideReezeDialog(),e.initDataList(),e.$freezenotify({message:"已成功冻结 !"})):e.$slnotify({message:r.X.toString(t.ret)})})}else this.$slnotify({message:"操作权限不足"})},resetChecked:function(){this.isSelect=!0,this.isHighlight=!1,this.area="",this.city="",this.provinces="",this.initDataList()},treeDataByIds:function(){this.treeDataById=m.a.treeDataById(this.treeDataNew)},selectNodeActive:function(e){var t=e.key;m.a.changeSelecte(t,this.treeDataById),e.isThree?this.provinces="":this.provinces=e.label,this.area="",this.city="",this.initDataList()},currentChange:function(e,t){this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.initDataList()},handleSizeChange:function(e){this.listQuery.limit=e,this.initDataList(),p.a.set(this.$route,e)},handleCurrentChange:function(e){this.listQuery.page=e,this.initDataList()},nodeExpand:function(e,t){var i=t.key;this.$refs.tree.setCurrentKey(i),this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.initDataList()}}}}).call(t,i("L7Pj"))},SeYR:function(e,t){},VGcv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("6nXL"),s=i("6ROu"),n=i.n(s),o=i("P9l9"),l=i("a2vD"),r={data:function(){return{employeeOptions:[],fromOptions:[],AgentLevelOption:[{label:a.c.toString(a.c.FIRST),value:a.c.FIRST},{label:a.c.toString(a.c.SECOND),value:a.c.SECOND},{label:a.c.toString(a.c.THREE),value:a.c.THREE}],agentTypeOptions:[{label:"全部",value:""},{label:a.z.toString(a.z.REGION),value:a.z.REGION},{label:a.z.toString(a.z.INDUSTRY),value:a.z.INDUSTRY}],shopName:"",agentId:"",salesman:"",from:"",begin_ctime:"",end_ctime:"",createdTime:[],agentType:"",agentName:"",agent_level:""}},props:{tableName:{type:Number,default:0},employeeNames:{type:Array,default:function(){}},isClearData:{type:Boolean,default:!0}},computed:{isOfficialSearch:function(){return 1===this.isOfficial},isClearSearch:function(){return this.isClearData}},created:function(){this.isClearSearch&&(this.salesman="",this.from="",this.agentName="",this.agentId="",this.agent_level="",this.agentType="",this.begin_ctime="",this.end_ctime=""),this.getEmployeeOption(),this.getFromList()},methods:{getEmployeeOption:function(){var e=this,t={get_ag_salesman_list:1,agent_id:l.a.getPlAgentid(),audit_person:[1,2]};Object(o.c)(t).then(function(t){0===t.ret?e.employeeOptions=t.data.list:e.$slnotify({message:a.X.toString(t.ret)})})},getFromList:function(){var e=this;Object(o.G)({get_from_list:1,only_from:1}).then(function(t){0===t.ret?e.fromOptions=t.data.list:e.$slnotify({message:a.X.toString(t.ret)})})},search:function(){var e={};e.shop_name=this.shopName,e.employee_name=this.salesman,e.from=this.from,e.agentName=this.agentName,e.shop_id=this.agentId,e.agent_level=this.agent_level,e.agentType=this.agentType,e.begin_ctime=this.begin_ctime,e.end_ctime=this.end_ctime,this.$emit("search",e)},goCreate:function(){},chooseCreatTime:function(){if(this.createdTime){var e=this.createdTime[0],t=this.createdTime[1];this.begin_ctime=parseInt(n()(e).format("X")),this.end_ctime=parseInt(n()(t).format("X"))+86400}else this.begin_ctime="",this.end_ctime=""}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-content clearfix search-content-width-fix",attrs:{id:"search-official"}},[i("div",{staticClass:"row-content"},[i("div",{staticClass:"clearfix"},[i("div",{staticClass:"name fl clearfix search-item margin-left-six"},[e._m(0),e._v(" "),i("div",{staticClass:"fl"},[i("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.shopName,callback:function(t){e.shopName=t},expression:"shopName"}})],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item margin-left-nine"},[e._m(1),e._v(" "),i("div",{staticClass:"fl"},[i("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:e.salesman,callback:function(t){e.salesman=t},expression:"salesman"}},e._l(e.employeeOptions,function(e){return i("el-option",{key:e.ag_employee_name,attrs:{label:e.ag_employee_name,value:e.ag_employee_name}})}),1)],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item margin-left-ten"},[e._m(2),e._v(" "),i("div",{staticClass:"fl"},[i("el-input",{attrs:{placeholder:"入商户ID"},model:{value:e.agentId,callback:function(t){e.agentId=t},expression:"agentId"}})],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item"},[e._m(3),e._v(" "),i("div",{staticClass:"fl"},[i("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.chooseCreatTime},model:{value:e.createdTime,callback:function(t){e.createdTime=t},expression:"createdTime"}})],1)])]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item"},[e._m(4),e._v(" "),i("div",{staticClass:"fl"},[i("el-select",{attrs:{placeholder:"全部"},model:{value:e.agentType,callback:function(t){e.agentType=t},expression:"agentType"}},e._l(e.agentTypeOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item margin-left-ten "},[e._m(5),e._v(" "),i("div",{staticClass:"fl"},[i("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}},e._l(e.fromOptions,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item  margin-left-zero"},[e._m(6),e._v(" "),i("div",{staticClass:"fl"},[i("el-input",{staticClass:"agent-name",attrs:{placeholder:"代理商名称"},model:{value:e.agentName,callback:function(t){e.agentName=t},expression:"agentName"}})],1)]),e._v(" "),i("div",{staticClass:"fl margin-right-hun"},[i("div",{staticClass:"search-btn  of-btn-bd-search",on:{click:e.search}},[e._v("搜索")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("商户名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("销售人员")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("商户ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("新增时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商类型")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text text-right"},[this._v("来源")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商名称")])])}]};var h=i("C7Lr")(r,c,!1,function(e){i("7p9f")},"data-v-4f2951a4",null);t.default=h.exports},XdD8:function(e,t,i){"use strict";var a=i("qiag"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-content change-default ",class:{"official-table":e.isOfficialTable}},[i("el-table",{ref:"merchantTable",attrs:{data:e.tableList,stripe:"","default-sort":{prop:"ctime",order:"descending"}},on:{"sort-change":e.sort}},[i("el-table-column",{attrs:{label:"序号",type:"index",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"ctime",label:"新增时间","min-width":"80",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.ctime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"shop_id",label:"ID","min-width":"50",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.shop_id?i("span",[e._v(e._s(t.row.shop_id))]):t.row.id?i("span",[e._v(e._s(t.row.id))]):i("span",[e._v("--")])]}}])}),e._v(" "),e.isOfficialTable?i("el-table-column",{attrs:{prop:"agent_type",label:"代理商类型","min-width":"70",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_type?i("span",{staticClass:"shop-name"},[e._v(e._s(t.row.agent_type_text))]):i("span",[e._v("--")])]}}])}):e._e(),e._v(" "),e.isOfficialTable?i("el-table-column",{attrs:{prop:"agent_name",label:"代理商名称","min-width":"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_name?i("span",{staticClass:"shop-name"},[e._v(e._s(t.row.agent_name))]):i("span",[e._v("--")])]}}])}):e._e(),e._v(" "),i("el-table-column",{attrs:{prop:"shop_name",label:"商户名称","min-width":"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.shop_name?i("span",{staticClass:"shop-name agent-name",class:{"agent-name":e.isOfficialTable},on:{click:function(i){e.clickShopName(t.row)}}},[e._v(e._s(t.row.shop_name))]):i("span",[e._v("--")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"110",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.address_str?i("span",[e._v(e._s(t.row.address_str))]):i("span",[e._v("--")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"from_salesman",label:"销售人员","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.from_salesman?i("span",[e._v(e._s(t.row.from_salesman))]):t.row.employee_name?i("span",[e._v(e._s(t.row.employee_name))]):i("span",[e._v("--")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"from",label:"来源","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.from?i("span",[e._v(e._s(t.row.from))]):i("span",[e._v("--")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"is_freeze_str",label:"状态","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_freeze_str))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"is_freeze",label:"认证状态","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("认证成功")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"operate",label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"detail-btn btn-text-blue",on:{click:function(i){e.goDetail(t.row)}}},[e._v("编辑")]),e._v(" "),t.row.is_freeze===e.AgentIsFreeze.NO?i("span",{staticClass:"freeze-btn btn-text-red",on:{click:function(i){e.openReezeDialog(t.row)}}},[e._v("冻结")]):i("span",{staticClass:"enable-btn btn-text-green",on:{click:function(i){e.openReezeDialog(t.row)}}},[e._v("启用")])]}}])})],1),e._v(" "),e.isListEmpty?i("empty-table",{attrs:{type:e.emptyType}}):e._e()],1)},staticRenderFns:[]};var n=function(e){i("5EZk")},o=i("C7Lr")(a.a,s,!1,n,"data-v-b929feaa",null);t.a=o.exports},kgaO:function(e,t){},qiag:function(e,t,i){"use strict";(function(e){var a=i("r2UX"),s=i("6nXL"),n=i("6ROu"),o=i.n(n);i("EuEE");t.a={data:function(){return{emptyType:1,isSort:!1,sortLabel:"",sortOrder:1,tableHeight:500,AgentIsFreeze:s.b}},props:{list:{type:Array,required:!0,default:function(){}},isOfficial:{type:Boolean,default:!1}},computed:{indexMethod:function(e){return e},isListEmpty:function(){return 0===this.list.length},isOfficialTable:function(){return this.isOfficial},isOfficialEmpty:function(){return this.isOfficial?1:0},tableList:function(){return this.list&&this.list.length>0&&this.list.map(function(e){return e.form_txt=s.A.toString(e.from),e.ctime?e.ctime=o()(1e3*e.ctime).format("YYYY.MM.DD"):e.ctime="--",isNaN(e.agent_type)?e.agent_type_text=e.agent_type:e.agent_type_text=s.z.toString(e.agent_type),e.is_freeze=e.is_freeze||s.b.NO,e.is_freeze_str=s.b.toString(e.is_freeze),e.address_str=""+e.province+e.city+e.area+e.address,e}),this.list}},components:{EmptyTable:a.a},created:function(){var t=this;this.tableHeight=document.documentElement.clientHeight-420,e(window).resize(function(){t.tableHeight=document.documentElement.clientHeight-420})},mounted:function(){this.$refs.merchantTable.$refs.bodyWrapper.style.minHeight="473px"},methods:{clickShopName:function(e){this.$emit("clickShopName",e)},goDetail:function(e){this.$emit("goDetail",e)},sort:function(e){this.$emit("sort",e)},openReezeDialog:function(e){this.$emit("openReezeDialog",e)}}}}).call(t,i("L7Pj"))},soo5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("PQGU"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"official-merchant-list"}},[e._m(0),e._v(" "),i("div",{staticClass:"merchant-tree staff-tree"},[e._m(1),e._v(" "),i("z-tree",{ref:"tree",attrs:{treeData:e.treeDataNew},on:{"node-click":e.selectNodeActive}})],1),e._v(" "),i("div",{staticClass:"merchant-list"},[i("div",{staticClass:"official-title-bar official-title-width"},[i("span",[e._v("列表详情")]),e._v(" "),i("span",{staticClass:"rank-btn-add fr btn-text-blue",on:{click:e.goCreatMerchantOfficial}},[i("span",{staticClass:"add-btn-blue add-agent"}),e._v(" "),i("span",{staticClass:"add-agent"},[e._v(" 新增商户")])])]),e._v(" "),i("merchant-search",{on:{search:e.search}}),e._v(" "),i("div",{staticClass:"table-content change-default-table change-default"},[i("merchant-table",{attrs:{list:e.list,isOfficial:!0},on:{sort:e.sort,goDetail:e.goDetail,clickShopName:e.clickShopName,openReezeDialog:e.openReezeDialog}})],1),e._v(" "),i("div",{staticClass:" pagination-content change-pagination-default"},[i("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,40],"page-size":e.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1)],1),e._v(" "),e.isOpenEdit?i("mearchant-edit",{attrs:{isOfficial:e.isOfficial,detailData:e.detailData},on:{handleClose:e.handleClose,handleSure:e.handleSure}}):e._e(),e._v(" "),i("el-dialog",{staticClass:"nopadding freeze-dialog",attrs:{visible:e.freezeDialogVisible,width:"600px",top:"35vh",center:""},on:{"update:visible":function(t){e.freezeDialogVisible=t},close:e.hideReezeDialog}},[i("div",{staticClass:"freeze-content"},[i("img",{attrs:{src:e.sucTipImg}}),e._v(" "),e.dialogAgent.is_freeze===e.AgentIsFreeze.NO?i("span",{staticClass:"freeze-tip"},[e._v("确定要执行冻结操作？")]):i("span",{staticClass:"freeze-tip"},[e._v("确定要执行启用操作？")])]),e._v(" "),i("div",{staticClass:"btn-dialog",attrs:{slot:"footer"},slot:"footer"},[e.dialogAgent.is_freeze===e.AgentIsFreeze.NO?i("div",{staticClass:"btn-Dialogok sl-btn-bd-b-blue",on:{click:e.freezeOk}},[e._v("确认")]):i("div",{staticClass:"btn-DialogEnable sl-btn-bd-b-blue",on:{click:e.freeEnable}},[e._v("确认")]),e._v(" "),i("div",{staticClass:"btn-Dialogcancel sl-btn-bd-b-blue",on:{click:e.hideReezeDialog}},[e._v("取消")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav-own-bar"},[t("span",{staticClass:"cant-click-nav"},[this._v("商户管理")]),this._v("\n    >\n    "),t("span",{staticClass:"current-nav"},[this._v("商户列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"change-titlerr rank-title"},[t("span",[this._v("所属区域")])])}]};var n=function(e){i("SeYR")},o=i("C7Lr")(a.a,s,!1,n,"data-v-041d4422",null);t.default=o.exports},tca8:function(e,t,i){"use strict";var a=i("5Nff"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"official-merchant-edit"}},[i("div",{staticClass:"mearchant-official-form"},[i("el-dialog",{staticClass:"official-merchant",attrs:{visible:e.dialogVisible,width:"1024px",top:e.boxTop,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"head-nav head-width"},[i("span",[e._v("编辑商户信息")])]),e._v(" "),i("el-form",{ref:"basicInfoForm",staticClass:"demo-ruleForm float-left",attrs:{"label-width":"100px",model:e.detailInfo,rules:e.rules}},[i("el-form-item",{attrs:{label:"店铺名称",prop:"shop_name"}},[i("el-input",{attrs:{placeholder:"请输入店铺名称"},on:{input:function(t){e.checkFinishInput("basicInfoForm")}},model:{value:e.detailInfo.shop_name,callback:function(t){e.$set(e.detailInfo,"shop_name",t)},expression:"detailInfo.shop_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商户电话",prop:"telephone"}},[i("el-input",{attrs:{placeholder:"请输入商户电话"},on:{input:function(t){e.checkFinishInput("basicInfoForm")}},model:{value:e.detailInfo.telephone,callback:function(t){e.$set(e.detailInfo,"telephone",t)},expression:"detailInfo.telephone"}})],1),e._v(" "),i("el-form-item",{staticClass:"select-must",attrs:{label:"商户业态"}},[i("el-checkbox-group",{attrs:{min:1},on:{change:function(t){e.checkFinishInput("basicInfoForm")}},model:{value:e.detailInfo.shop_model,callback:function(t){e.$set(e.detailInfo,"shop_model",t)},expression:"detailInfo.shop_model"}},e._l(e.shopTag,function(t){return i("el-checkbox-button",{key:t.text,class:{delete:e.isDeleteState},attrs:{disabled:e.isDeleteState,label:t.text,value:t.text}},[e._v("\r\n                      "+e._s(t.text)+"\r\n                    ")])}),1)],1)],1),e._v(" "),i("el-form",{ref:"basicInfoFormr",staticClass:"demo-ruleForm float-left",attrs:{"label-width":"100px",model:e.detailInfo,rules:e.basicInfoFormRules}},[i("el-form-item",{class:{"is-error":e.isSelectError},attrs:{label:"商户地址",prop:"address"}},[i("city-select",{staticClass:"city-select",attrs:{isSelectError:e.isSelectError,cityinfo:e.cityinfo},on:{changeProvinces:e.changeProvinces}}),e._v(" "),i("div",[i("el-input",{staticClass:"long-input",class:{"border-redtip":e.isSelectError},attrs:{placeholder:"街道楼盘名称房号"},on:{input:e.InputFloorNo},model:{value:e.detailInfo.address,callback:function(t){e.$set(e.detailInfo,"address",t)},expression:"detailInfo.address"}})],1),e._v(" "),e.isSelectError?i("p",{staticClass:"input-flooer"},[e._v("请输入完整地址(地址不能包含空格)")]):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:"商户面积",prop:"shop_area"}},[i("el-input",{attrs:{placeholder:"请输入店铺面积"},on:{input:function(t){e.checkFinishInput("basicInfoForm")}},model:{value:e.detailInfo.shop_area,callback:function(t){e.$set(e.detailInfo,"shop_area",t)},expression:"detailInfo.shop_area"}}),e._v(" "),i("span",{staticClass:"black"},[e._v("m²")])],1),e._v(" "),i("el-form-item",{staticClass:"logo-item",attrs:{label:"商户logo",prop:"shop_logo"}},[i("div",{staticClass:"certi-upload"},[i("Preview-Img",{staticClass:"fl certi-upload_right",attrs:{width:"309px",height:"217px",imgSrc:e.detailInfo.shop_logo}}),e._v(" "),i("img-upload",{staticClass:"certi-upload-btn",class:{"upload-agin":e.BtnText.length>3},attrs:{FreedomCrop:!1,isOfficial:e.isOfficial,isTextBtn:e.isTextBtn,BtnText:e.BtnText},on:{"send-image":e.getPhoto}}),e._v(" "),e.detailInfo.shop_logo?e._e():i("div",{staticClass:"upload-img-text"},[i("span",{staticClass:"unload-title"},[e._v("添加图片")]),e._v(" "),i("div",{staticClass:"upload-text"},[e._v("支持JPG、JPEG、PNG文件格式")])])],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer  official-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"btn-Dialogcancel of-btn-bd-b-blue btn-Dialogok",on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),e.isCanSave?i("div",{staticClass:"save-m-gradient btn-Dialogok",on:{click:e.handleSure}},[e._v("保存")]):i("div",{staticClass:"sl-btn-bg-b-gray btn-Dialogok-gray ",on:{click:function(t){e.checkFinishInput("basicInfoForm")}}},[e._v("保存")])])],1)],1)])},staticRenderFns:[]};var n=function(e){i("+77d"),i("kgaO")},o=i("C7Lr")(a.a,s,!1,n,"data-v-5ce12ace",null);t.a=o.exports}});