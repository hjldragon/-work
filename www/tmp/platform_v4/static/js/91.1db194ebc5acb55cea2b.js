webpackJsonp([91],{"/atT":function(t,e){},b3Sk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("CW5y"),s=a("r2UX"),l=a("6nXL"),i=(a("EuEE"),{data:function(){return{emptyType:1,searchNone:!1,searchStatus:"",searchName:"",statusArr:[{label:"全部",value:""},{label:l.x.toString(l.x.NO),value:l.x.NO},{label:l.x.toString(l.x.YES),value:l.x.YES}],tableHeight:0,listQuery:{page:1,limit:10}}},components:{EmptyTable:s.a},props:{staffList:{type:Array,required:!0,default:function(){}},total:{type:Number,required:!0,default:10}},created:function(){this.listQuery.limit=n.a.get(this.$route)},mounted:function(){this.$refs.officialStaff.$refs.bodyWrapper.style.minHeight="401px"},computed:{isNoFreezed:function(){return l.x.NO},staffTree:function(){return this.treeData},staffTableList:function(){return this.staffList},IsAdmin:function(){return l.u},totalStaff:function(){return this.total}},methods:{addRank:function(){this.$emit("addNewStaff")},searchMethods:function(){this.listQuery.page=1,this.searchNone=!0;var t={};t.name=this.searchName,t.status=this.searchStatus,this.$emit("searchMethods",t)},handleSizeChange:function(t){this.listQuery.page=1,this.listQuery.limit=t,n.a.set(this.$route,t),this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.listQuery.page=t,this.$emit("handleCurrentChange",t)},handleModifyStatus:function(t,e){var a={};a.row=t,a.status=e,this.$emit("handleModifyStatus",a)},handleEditStaff:function(t){this.$emit("handelEditBtn",t)},handleDeleteBtn:function(t){this.$emit("handleDeleteBtn",t)}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"staff-table-official"},[a("div",{staticClass:"change-titlerr rank-title"},[a("span",[t._v("详情列表")]),t._v(" "),a("span",{staticClass:"rank-btn-add fr btn-text-blue",on:{click:t.addRank}},[a("span",{staticClass:"add-btn-blue add-agent"}),t._v(" "),a("span",{staticClass:"add-agent"},[t._v(" 添加员工")])])]),t._v(" "),a("div",{staticClass:"table-content"},[a("div",{staticClass:"search-content search-content-width-fix"},[a("span",{staticClass:"label-text"},[t._v("姓名")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),a("span",{staticClass:"label-text"},[t._v("状态")]),t._v(" "),a("el-select",{model:{value:t.searchStatus,callback:function(e){t.searchStatus=e},expression:"searchStatus"}},t._l(t.statusArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("div",{staticClass:"search-btn of-btn-bd-search",on:{click:t.searchMethods}},[t._v("搜索")])],1),t._v(" "),a("div",{staticClass:"table-table change-default"},[a("el-table",{ref:"officialStaff",attrs:{data:t.staffTableList,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"platformer_num",label:"员工编号",align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.platformer_num?a("span",{attrs:{size:"small"}},[t._v(t._s(e.row.platformer_num)+"\n          ")]):a("span",{attrs:{size:"small"}},[t._v("--\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pl_name",label:"姓名",align:"center","min-width":"80","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"登录手机号",align:"center","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pl_department_name",label:"部门",align:"center","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"角色",align:"center","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center","min-width":"130","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.remark?a("span",{attrs:{size:"small"}},[t._v(t._s(e.row.remark)+"\n          ")]):a("span",{attrs:{size:"small"}},[t._v("--\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_freeze",label:"状态",align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_freeze===t.isNoFreezed?a("span",{attrs:{size:"small"}},[t._v("启用\n          ")]):a("span",{attrs:{size:"small"}},[t._v("冻结\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_admin!==t.IsAdmin.YES?a("div",[e.row.is_freeze===t.isNoFreezed?a("span",{staticClass:"text-red btn-oprate-red",attrs:{size:"small",type:"info"},on:{click:function(a){t.handleModifyStatus(e.row,1)}}},[t._v("冻结\n            ")]):a("span",{staticClass:"text-green btn-oprate-green",attrs:{size:"small",type:"success"},on:{click:function(a){t.handleModifyStatus(e.row,0)}}},[t._v("启用\n            ")]),t._v(" "),a("span",{staticClass:"text-blue btn-oprate-blue",attrs:{size:"small",type:"text"},on:{click:function(a){t.handleEditStaff(e.row)}}},[t._v("编辑\n            ")]),t._v(" "),a("span",{staticClass:"text-red btn-oprate-red",attrs:{size:"small",type:"text"},on:{click:function(a){t.handleDeleteBtn(e.row)}}},[t._v("删除\n            ")])]):t._e()]}}])})],1),t._v(" "),t.staffTableList&&0!==t.staffTableList.length?t._e():a("empty-table",{attrs:{type:t.emptyType}})],1),t._v(" "),a("div",{staticClass:"page"},[a("div",{staticClass:"pagination-content change-pagination-default"},[a("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.totalStaff},on:{"update:currentPage":function(e){t.$set(t.listQuery,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])])])},staticRenderFns:[]};var o=a("C7Lr")(i,r,!1,function(t){a("/atT"),a("d8K9")},"data-v-1d0e5912",null);e.default=o.exports},d8K9:function(t,e){}});