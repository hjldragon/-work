webpackJsonp([63],{"15dY":function(t,e,i){e=t.exports=i("UTlt")(!1),e.push([t.i,"#printers .el-table tbody tr{height:60px}#printers .el-table .cell,#printers .el-table th>div{padding:0 8px}#printers .pagination-container{display:none;text-align:center;padding:50px 14px 20px}#printers .el-table thead .cell{font-weight:900!important}#printers .el-table__empty-block,#printers .el-table__empty-text{display:none}#printers .el-table td{height:80px}",""])},"3d9j":function(t,e,i){t.exports=i.p+"static/img/empty.44fbbc3.png"},"4+KF":function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return l});var n=i("EuEE"),a=function(t,e){n.a.DataEncSubmit("category_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},s=function(t,e){n.a.DataEncSubmit("printer_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},r=function(t,e){n.a.DataEncSubmit("printer_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},o=function(t,e){n.a.DataEncSubmit("gen_id.php",t,function(t){e&&"function"==typeof e&&e(t)})},l=function(t,e){n.a.DataEncSubmit("printer_save.php",t,function(t){e&&"function"==typeof e&&e(t)})}},"9SBV":function(t,e,i){var n=i("15dY");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("b8cc703a",n,!0,{})},hEkA:function(t,e,i){"use strict";(function(t){var n=i("6nXL"),a=i("4+KF"),s=i("iARk"),r=i("swMD");e.a={data:function(){return{printList:[],testList:[],docType:"",total:40,listQuery:{page:1,limit:10},multipleSelection:[],selectIndex:{},showDialog:!1,showTips:!1,msg:"",showEmpty:!1}},created:function(){this.initTableData()},computed:{documentsType:function(){return n.C}},methods:{initTableData:function(){var t=this;null!=r.a.getItem("itemNum")&&(this.listQuery.limit=Number(r.a.getItem("itemNum"))),null!=sessionStorage.getItem("pageNum")&&(this.listQuery.page=Number(sessionStorage.getItem("pageNum"))),Object(a.d)({printer_list:1},function(e){t.printList=e.data.list||[];var i=t.$refs.page;0===t.printList.length?(t.showEmpty=!0,i.style.display="none"):i.style.display="block",t.testList=e.data.list||[],t.total=s.a.getTotal(t.testList),t.printList=s.a.getPageList(t.testList,t.listQuery.limit,t.listQuery.page),t.docType=n.C.code})},delPrinter:function(t){var e=[];e.push(t);var i={del_printer:1,printer_id_list:e};Object(a.a)(i,this.opearteHandler)},opearteHandler:function(t){var e=this;0===t.ret?(this.showTips=!0,this.msg="删除成功",this.initTableData(),setTimeout(function(){e.showTips=!1},1500)):(this.showTips=!0,this.msg="删除失败",setTimeout(function(){e.showTips=!1},1500))},handleSizeChange:function(t){this.listQuery.limit=t,r.a.setItem("itemNum",this.listQuery.limit),this.printList=s.a.getPageList(this.testList,this.listQuery.limit,this.listQuery.page),this.total=s.a.getTotal(this.testList)},handleCurrentChange:function(e){this.listQuery.page=e,this.total=s.a.getTotal(this.testList),this.printList=s.a.getPageList(this.testList,this.listQuery.limit,this.listQuery.page);var i=this.selectIndex[e];if(void 0!==i)for(var n in this.selectIndex[e]){var a=Number(this.selectIndex[e][n]+1);t(".el-checkbox__input").eq(a).addClass("is-checked")}sessionStorage.setItem("pageNum",this.listQuery.page)},multipleDeletePrinter:function(){var t=this;if(0===this.multipleSelection.length)return this.showTips=!0,this.msg="未选中任何消息",void setTimeout(function(){t.showTips=!1},1500);this.showDialog=!0},selectRow:function(t,e){var i=this,n=[];this.testList.forEach(function(e,a){for(var s=0;s<i.testList.length;s++)e==t[s]&&n.push(a)}),this.selectIndex[this.listQuery.page]=n},handleSelectionChange:function(t){this.multipleSelection=t},getSelectedIds:function(){var t=[];return this.multipleSelection.forEach(function(e){t.push(e.printer_id)}),t},Confim:function(){this.showDialog=!1;var t=this.multipleSelection.map(function(t){return t.printer_id}),e={del_printer:1,printer_id_list:t};Object(a.a)(e,this.opearteHandler)},close:function(){this.showDialog=!1}}}}).call(e,i("L7Pj"))},hxlF:function(t,e,i){var n=i("kAr5");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("026e98ea",n,!0,{})},iARk:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={getTotal:function(t){if(void 0!=t&&t.length>0){for(var e=0,i=0;i<t.length;i++)e++;return e}},getPageList:function(t,e,i){if(void 0!=t&&t.length>0){return t.filter(function(t,n){return n<e*i&&n>=e*(i-1)})}},unique:function(t){for(var e=[t[0]],i=1;i<t.length;i++)-1==e.indexOf(t[i])&&e.push(t[i]);return e}}},kAr5:function(t,e,i){e=t.exports=i("UTlt")(!1),e.push([t.i,"#printers[data-v-0379a454]{position:relative}button[data-v-0379a454]{cursor:pointer}.empty[data-v-0379a454]{position:absolute;left:0;top:120px;width:100%;height:610px;background:#fff;text-align:center;padding-top:189px}.empty span[data-v-0379a454]{font-size:14px;color:#9b9b9b}.tips[data-v-0379a454]{position:fixed;width:360px;height:100px;background:#000;z-index:1002;opacity:.8;left:50%;top:50%;margin-left:-180px;margin-top:-50px;text-align:center;border-radius:2px}.tips .info[data-v-0379a454]{display:inline-block;font-size:14px;color:#fff;padding-top:40px;letter-spacing:.5}.btn-group[data-v-0379a454]{padding:20px 0;background:#fff;text-align:right}.btn-group button[data-v-0379a454]{cursor:pointer}.btn-group .add[data-v-0379a454]{width:100px;height:34px;font-size:14px;color:#4877e7;background:#fff;border:1px solid #4877e7;margin-right:9px}.btn-group .del[data-v-0379a454]{width:100px;height:34px;font-size:14px;color:#e7487e;border:1px solid #e7487e;background:#fff}.blue[data-v-0379a454]{font-size:14px;color:#4877e7;margin-right:6px;cursor:pointer}.red[data-v-0379a454]{font-size:14px;color:#e7487e;cursor:pointer}.printer-table[data-v-0379a454]{background:#fff;height:100%}.types[data-v-0379a454]{text-align:center}.mask[data-v-0379a454]{position:fixed;width:100%;height:100%;z-index:8000;left:0;top:0;background:#000;opacity:.5}.dialog[data-v-0379a454]{position:absolute;z-index:10000000;left:50%;top:50%;border-top:4px solid #5a8cff;width:540px;height:280px;margin-top:-140px;margin-left:-270px;background:#fff;text-align:center}.dialog .header[data-v-0379a454]{margin-top:90px}.dialog .header .text[data-v-0379a454]{font-size:14px;color:#666}.dialog .bottom[data-v-0379a454]{padding:77px 0 20px}.dialog .bottom .primary[data-v-0379a454]{display:inline-block;background:#5a8cff;width:160px;height:40px;line-height:40px;color:#fff;border:1px solid #5a8cff;border-radius:5px;cursor:pointer}.dialog .bottom .default[data-v-0379a454]{font-size:14px;color:#4877e7;background:#fff;width:160px;height:40px;line-height:40px;border-radius:6px;border:1px solid #4877e7;margin-left:50px}",""])},s1Mn:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"printers"}},[i("div",{staticClass:"btn-group"},[i("router-link",{attrs:{to:{path:"/printer/edit"}}},[i("button",{staticClass:"add",attrs:{type:"button"}},[t._v("添加")])]),t._v(" "),i("button",{staticClass:"del",attrs:{type:"button"},on:{click:t.multipleDeletePrinter}},[t._v("删除")])],1),t._v(" "),i("div",{staticClass:"printer-table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.printList,height:"680"},on:{"selection-change":t.handleSelectionChange,select:t.selectRow}},[i("el-table-column",{attrs:{type:"selection","min-width":"52"}}),t._v(" "),i("el-table-column",{attrs:{label:"打印机ID",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.printer_id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"名称",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.printer_name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"支持单据",align:"center","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"types"},t._l(e.row.printer_category,function(n,a){return i("span",[t._v(t._s(t.docType[n])),a<e.row.printer_category.length-1?i("i",[t._v(" / ")]):t._e()])}))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"后厨打印分类",align:"center","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.food_category_name,function(n,a){return i("span",[t._v(t._s(n)),a<e.row.food_category_name.length-1?i("i",[t._v(" / ")]):t._e()])})}}])}),t._v(" "),i("el-table-column",{attrs:{label:"规格",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.printer_size)+"mm")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"型号",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.printer_brand))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"备注",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.printer_note))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作","min-width":"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{path:"/printer/edit",query:{id:e.row.printer_id}}}},[i("span",{staticClass:"blue",attrs:{size:"small",type:"text"}},[t._v("编辑\n\t\t\t\t\t\t")])]),t._v(" "),i("span",{staticClass:"red",attrs:{size:"small",type:"text"},on:{click:function(i){t.delPrinter(e.row.printer_id)}}},[t._v("删除\n\t\t\t\t\t")])]}}])})],1),t._v(" "),i("div",{ref:"page",staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"mask"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"dialog"},[i("div",{staticClass:"header"},[i("p",{staticClass:"text"},[t._v("确定删除打印机"),t._l(t.multipleSelection,function(e,n){return i("span",[t._v(t._s(e.printer_id)),n<t.multipleSelection.length-1?i("i",[t._v(",")]):t._e()])}),t._v("的信息？")],2)]),t._v(" "),i("div",{staticClass:"bottom"},[i("button",{staticClass:"primary ttt",attrs:{type:"button"},on:{click:t.Confim}},[t._v("确定")]),t._v(" "),i("button",{staticClass:"default",attrs:{type:"button"},on:{click:t.close}},[t._v("取消")])])]),t._v(" "),t.showTips?i("div",{staticClass:"tips"},[i("span",{staticClass:"info"},[t._v(t._s(t.msg))])]):t._e(),t._v(" "),t.showEmpty?i("div",{staticClass:"empty"},[t._m(0),t._v(" "),i("span",[t._v("暂无数据...")])]):t._e()])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"imgs"},[n("img",{attrs:{src:i("3d9j"),alt:""}})])}]},w0Wh:function(t,e,i){"use strict";function n(t){i("hxlF"),i("9SBV")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("hEkA"),s=i("s1Mn"),r=i("QAAC"),o=n,l=Object(r.a)(a.a,s.a,s.b,!1,o,"data-v-0379a454",null);e.default=l.exports}});