webpackJsonp([60],{"2+Ll":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAkRJREFUSA3tVb9rFFEQnnm7iWK0iBfvEuRSmMJGSxXBP+D2UEQICoKKUbAVNJVxs0QRwdZSQbAVbQ4XbEWQNGIjiookEPZOiYIQvF8747y3vLtkbzk1HNhkYPfNfPPNzNt5b1iElHwt+RcI8D4g7Ei5+prM/MNB51w+nA/XE9V6Q+sxwkUG3ikB6l8eCc0R0tl0PjcNAIMt+gFBPerxZwFIV5mhAIRO2t1bwDIQP4+HwV1r9lurnq93XsjiYHQ8OKzaME3Apjoin5Hd7EWALwz4LCuoB0M4D8xjAPhefM+1XwHG5MITjEr+sthFDQ5cEJddheqBHOYVwOQLBlaEUe4LPhxYvv+fqFoOLtc8/1p6J4LPRd78PWmjnHtXquWFg/qCdJFEq5b8SzUvuG5xE/T9RDDZaNGSAV11ZKISLGq95t2aIm590rpC91gh9F9p/eepO7m1en0FGYaVO7Q/X7n5UeOrJ28XW43mEst1QlRH5Zq/NkPVYjWqCVqcGHOJplnxrq5OHb3eaBZlILfpREDxlOW0G+1RgwmgGHZr3E6t5Qx83Srwx5ZutejvWoREG6bURlFuRA/Qqtz2X7h96K3FlXK/ySSRsVnVLJ619j2D8ceza8Oo9o24anLP0xuRTTBWmVuRST0tUzSTD/03Fs9azR+NlcwdJRsioOmo7B+w5CYQNGMAwSxkVgIBRQSfNYq8ZIonhL5BkgJMCVuTmGc0czMiu+yEsYMmp2lR4RC8k56+kIPYZOpOXqPIj2Yxr/ilNn4DcBbeGoICFmIAAAAASUVORK5CYII="},"4+KF":function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"e",function(){return a}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return p});var n=i("EuEE"),r=function(t,e){n.a.DataEncSubmit("category_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},o=function(t,e){n.a.DataEncSubmit("printer_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},a=function(t,e){n.a.DataEncSubmit("printer_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},s=function(t,e){n.a.DataEncSubmit("gen_id.php",t,function(t){e&&"function"==typeof e&&e(t)})},p=function(t,e){n.a.DataEncSubmit("printer_save.php",t,function(t){e&&"function"==typeof e&&e(t)})}},D4ky:function(t,e,i){"use strict";var n=i("mvHQ"),r=i.n(n),o=i("6nXL"),a=i("4+KF");i("iARk");e.a={data:function(){return{form:{printer_name:"",printer_spec:"",printer_model:"",remark:"",left:null,top:null,type:[]},classionf:[],initList:{value1:"",value2:"",value3:"",options1:[],options2:[],options3:[]},list:[],category:[],cateID:[],printerID:null,printersID:null,printer_info:null,categor:[],showBtn:!1,showTips:!1,msg:""}},created:function(){this.getData(),this.printersID||this.getList()},computed:{documentsType:function(){return o.C}},methods:{onSubmit:function(){var t={save_printer:1,printer_id:this.printerID,printer_name:this.form.printer_name,printer_size:this.form.printer_spec,printer_category:this.form.type,printer_brand:this.form.printer_model,printer_note:this.form.remark,print_position_left:this.form.left,print_position_top:this.form.top,food_category_list:this.category};Object(a.e)(t,this.alts)},alts:function(t){var e=this;0===t.ret?(this.showTips=!0,this.msg="保存成功",setTimeout(function(){e.$router.go(-1)},1500)):(this.showTips=!0,this.msg="保存失败",setTimeout(function(){e.showTips=!1},1500))},goback:function(){this.$router.go(-1)},addcls:function(t){var e=JSON.parse(r()(this.initList));this.classionf.push(e)},delcls:function(t){this.classionf.splice(t,1),this.category.splice(t,1)},initData:function(){var t=this,e=this.list,i=this.categor;this.initList.options1=this.getOptions(e),0==i.length&&this.addcls(-1),i.forEach(function(i,n){var r={value1:"",value2:"",value3:"",options1:t.getOptions(e),options2:[],options3:[]};try{i[0].category_id||(r.value1="全部",r.value2="全部",r.value3="全部"),0!=i[0].category_id&&(r.value1="全部",r.value2="全部",r.value3="全部"),i[1].category_id&&(r.value3="全部")}catch(t){}try{e.forEach(function(n,o){n.category_id==i[0].category_id&&(r.value1=o,r.options2=t.getOptions(e[r.value1].list))})}catch(t){}try{e[r.value1].list.forEach(function(n,o){n.category_id==i[1].category_id&&(r.value2=o,r.options3=t.getOptions(e[r.value1].list[r.value2].list))})}catch(t){}try{e[r.value1].list[r.value2].list.forEach(function(t,e){t.category_id==i[2].category_id&&(r.value3=e)})}catch(t){}t.classionf.push(r)})},getData:function(){var t=this;void 0!=this.$route.query.id?(this.printersID=this.$route.query.id,Object(a.d)({printer_info:1,printer_id:this.printersID},function(e){t.printer_info=e.data.info,t.categor=t.printer_info.category,t.printer_info.printer_id==t.printersID&&(t.form.printer_name=t.printer_info.printer_name,t.form.printer_spec=String(t.printer_info.printer_size),t.form.printer_model=t.printer_info.printer_brand,t.form.remark=t.printer_info.printer_note,t.printerID=t.printer_info.printer_id,t.category=t.printer_info.food_category_list,t.form.type=t.printer_info.printer_category||[],t.form.left=t.printer_info.print_position_left,t.form.top=t.printer_info.print_position_top),t.getList()})):(this.getPrintIDs(),this.printersID=this.printerID)},getList:function(){var t=this;Object(a.b)({list:1,type:1},function(e){t.list=e.data.list||[];var i={category_name:"全部",category_id:"0"},n={category_name:"全部",category_id:"1"},r={category_name:"全部",category_id:"2"};try{t.list.push(i),t.list.forEach(function(t){t.list&&t.list.push(n),t.list.forEach(function(t){t.list&&t.list.push(r)})})}catch(t){}t.initData(),t.showButton()})},change:function(t,e){var i=this.classionf[t];0==e&&(i.value2="",i.value3="",i.options2=[],i.options3=[]),1==e&&(i.value3="",i.options3=[]);var n=i.value1,r=i.value2;try{this.cateID[t]=i["options"+(e+1)][i["value"+(e+1)]].id,1==this.cateID[t]||2==this.cateID[t]?this.category[t]=i["options"+e][i["value"+e]].id:this.category[t]=i["options"+(e+1)][i["value"+(e+1)]].id;var o=this.list[n].list;i.options2=this.getOptions(o);var a=this.list[n].list[r].list;i.options3=this.getOptions(a)}catch(t){}},getOptions:function(t){return t.map(function(t,e){return{idx:e,label:t.category_name,id:t.category_id}})},getPrintIDs:function(){var t=this,e={genid:1,type:"printer"};Object(a.c)(e,function(e){0===e.ret?t.printerID=e.data.id:(t.showTips=!0,t.msg="获取ID失败",setTimeout(function(){t.showTips=!1},1500))})},showButton:function(){if(this.printerID&&""!==this.form.printer_name&&""!==this.form.printer_spec&&0!==this.form.type.length){this.showBtn=!0;this.$refs.btn.disabled=!1}else{this.showBtn=!1;this.$refs.btn.disabled=!0}},name:function(){this.showButton()},spec:function(){this.showButton()},doctype:function(){this.showButton()}}}},E2U3:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'#printer .el-breadcrumb__item:last-child .el-breadcrumb__item__inner,#printer .el-breadcrumb__item:last-child .el-breadcrumb__item__inner:hover,#printer .el-breadcrumb__item:last-child .el-breadcrumb__item__inner a,#printer .el-breadcrumb__item:last-child .el-breadcrumb__item__inner a:hover{color:#4877e7}#printer .el-input__inner{border:1px solid #d9d9d9;border-radius:0;width:280px;height:34px}#printer .goods{max-width:860px;position:relative}#printer .goods input{border:1px solid #d9d9d9;border-radius:0;width:180px;height:34px}#printer .el-select{margin-right:8px;margin-bottom:8px}#printer .el-textarea__inner{width:400px;height:180px;resize:none;border-radius:0;border:1px solid #d9d9d9}#printer .el-select .el-input .el-input__icon{background:#f2f2f2}#printer .el-form-item__label{color:#000;opacity:.57}#printer .error{font-size:12px;color:#ff4949}#printer .el-select .el-input .el-input__icon{background:0}#printer .el-checkbox+.el-checkbox{margin-left:50px}#printer .star{position:relative}#printer .star:before{content:"*";left:70px;top:14px;position:absolute;display:inline-block;width:10px;height:10px;color:#e7487e}#printer .doctype{position:relative}#printer .doctype:before{content:"*";left:14px;top:14px;position:absolute;display:inline-block;width:10px;height:10px;color:#e7487e}',""])},LFBT:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"warp",attrs:{id:"printer"}},[i("nav",{staticClass:"nvs"},[i("el-breadcrumb",{attrs:{separator:">"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/shop"}}},[t._v("店铺管理")]),t._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/shop/printer"}}},[t._v("打印机管理")]),t._v(" "),i("el-breadcrumb-item",[t._v("编辑打印机")])],1)],1),t._v(" "),i("div",{staticClass:"printer-info"},[i("div",{staticClass:"title"},[t._v("\n\t\t\t编辑打印机\n\t\t")]),t._v(" "),i("div",{staticClass:"info-warp"},[i("el-form",{ref:"form",attrs:{"label-width":"120px",model:t.form}},[i("el-form-item",{attrs:{label:"打印机ID"}},[i("span",[t._v(t._s(t.printerID))])]),t._v(" "),i("el-form-item",{staticClass:"star",attrs:{label:"名称"}},[i("el-input",{on:{change:t.name},model:{value:t.form.printer_name,callback:function(e){t.$set(t.form,"printer_name",e)},expression:"form.printer_name"}}),t._v(" "),i("span",{staticClass:"prompting"},[t._v("注：名称必须和控制面板中的打印机名称一字不差")])],1),t._v(" "),i("el-form-item",{staticClass:"star",attrs:{label:"规格"}},[i("el-radio-group",{on:{change:t.spec},model:{value:t.form.printer_spec,callback:function(e){t.$set(t.form,"printer_spec",e)},expression:"form.printer_spec"}},[i("el-radio",{attrs:{label:"58"}},[t._v("58mm")]),t._v(" "),i("el-radio",{attrs:{label:"80"}},[t._v("80mm")])],1)],1),t._v(" "),i("el-form-item",{staticClass:"doctype",attrs:{label:"支持单据类型"}},[i("el-checkbox-group",{on:{change:t.doctype},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[i("el-checkbox",{attrs:{label:t.documentsType.MENUSAFTERKITCHEN,name:"type"}},[t._v(t._s(t.documentsType.toString(t.documentsType.MENUSAFTERKITCHEN)))]),t._v(" "),i("el-checkbox",{attrs:{label:t.documentsType.INVALIDSINGLE,name:"type"}},[t._v(t._s(t.documentsType.toString(t.documentsType.INVALIDSINGLE)))]),t._v(" "),i("el-checkbox",{attrs:{label:t.documentsType.MENUCONSUMER,name:"type"}},[t._v(t._s(t.documentsType.toString(t.documentsType.MENUCONSUMER)))]),t._v(" "),i("el-checkbox",{attrs:{label:t.documentsType.STATEMENT,name:"type"}},[t._v(t._s(t.documentsType.toString(t.documentsType.STATEMENT)))]),t._v(" "),i("el-checkbox",{attrs:{label:t.documentsType.PRESTATEMENT,name:"type"}},[t._v(t._s(t.documentsType.toString(t.documentsType.PRESTATEMENT)))])],1)],1),t._v(" "),i("el-form-item",{staticClass:"goods",attrs:{label:"后厨单打印分类"}},t._l(t.classionf,function(e,n){return i("div",{key:n,staticClass:"classion"},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.change(n,0)}},model:{value:e.value1,callback:function(i){t.$set(e,"value1",i)},expression:"item.value1"}},t._l(e.options1,function(t){return i("el-option",{key:t.idx,attrs:{label:t.label,value:t.idx}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.change(n,1)}},model:{value:e.value2,callback:function(i){t.$set(e,"value2",i)},expression:"item.value2"}},t._l(e.options2,function(t){return i("el-option",{key:t.idx,attrs:{label:t.label,value:t.idx}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.change(n,2)}},model:{value:e.value3,callback:function(i){t.$set(e,"value3",i)},expression:"item.value3"}},t._l(e.options3,function(t){return i("el-option",{key:t.idx,attrs:{label:t.label,value:t.idx}})})),t._v(" "),0==n?i("span",{staticClass:"adds",on:{click:function(e){t.addcls(n)}}},[t._v("添加所属分类")]):t._e(),t._v(" "),n>0?i("span",{staticClass:"del",on:{click:function(e){t.delcls(n)}}}):t._e()],1)})),t._v(" "),i("el-form-item",{attrs:{label:"型号"}},[i("el-input",{model:{value:t.form.printer_model,callback:function(e){t.$set(t.form,"printer_model",e)},expression:"form.printer_model"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea",maxlength:60,placeholder:"备注文字总数不得超过120字"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1)],1)]),t._v(" "),i("div",{staticClass:"hei_seting"},[i("div",{staticClass:"title"},[t._v("\n\t\t\t高级设置\n\t\t")]),t._v(" "),i("div",{staticClass:"seting-positon"},[i("span",{staticClass:"text"},[t._v("打印位置调整 ")]),i("span",{staticClass:"lp"},[t._v(" Left ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.left,expression:"form.left"}],staticClass:"ipt",attrs:{type:"text"},domProps:{value:t.form.left},on:{input:function(e){e.target.composing||t.$set(t.form,"left",e.target.value)}}}),t._v(" mm "),i("span",{staticClass:"tp"},[t._v("Top")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.top,expression:"form.top"}],staticClass:"ipt",attrs:{type:"text"},domProps:{value:t.form.top},on:{input:function(e){e.target.composing||t.$set(t.form,"top",e.target.value)}}}),t._v(" mm\n\t\t")]),t._v(" "),i("div",{staticClass:"btn"},[i("button",{ref:"btn",staticClass:"gey",class:{blue:t.showBtn},attrs:{type:"button"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),i("button",{staticClass:"default",attrs:{type:"button"},on:{click:t.goback}},[t._v("取消")])])]),t._v(" "),t.showTips?i("div",{staticClass:"tips"},[i("span",{staticClass:"info"},[t._v(t._s(t.msg))])]):t._e()])},r=[]},"PaP/":function(t,e,i){var n=i("UTUN");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("6e67cdfc",n,!0,{})},UTUN:function(t,e,i){var n=i("kxFB");e=t.exports=i("FZ+f")(!1),e.push([t.i,'.warp[data-v-4799a542]{background:#fff}.warp .nvs[data-v-4799a542]{background:#eff3fa;height:26px}.warp .tips[data-v-4799a542]{position:fixed;z-index:1003;width:360px;height:100px;background:#000;opacity:.8;left:50%;top:50%;margin-left:-180px;margin-top:-50px;text-align:center;border-radius:2px}.warp .tips .info[data-v-4799a542]{display:inline-block;font-size:14px;color:#fff;padding-top:40px;letter-spacing:.5}.warp button[data-v-4799a542]{cursor:pointer}.warp .ipt[data-v-4799a542]{text-align:center}.warp .printer-info .title[data-v-4799a542]{font-size:14px;color:#d8d8d8;height:40px;line-height:40px;background:#f6f8fc;text-indent:14px}.warp .printer-info .info-warp[data-v-4799a542]{padding-top:40px;margin-left:128px}.warp .printer-info .info-warp .prompting[data-v-4799a542]{position:absolute;left:300px;top:10px;font-size:12px;color:#9b9b9b}.warp .printer-info .adds[data-v-4799a542]{position:relative;cursor:pointer;display:inline-block;width:150px;height:36px;border:1px solid #4877e7;font-size:14px;color:#4877e7;padding-left:45px}.warp .printer-info .adds[data-v-4799a542]:before{position:absolute;content:"";left:24px;top:10px;background:url('+n(i("x2tZ"))+') no-repeat;width:16px;height:16px}.warp .printer-info .del[data-v-4799a542]{position:relative;cursor:pointer}.warp .printer-info .del[data-v-4799a542]:before{position:absolute;content:"";left:0;top:0;background:url('+n(i("2+Ll"))+") no-repeat;width:24px;height:24px}.warp .hei_seting[data-v-4799a542]{height:204px;padding:0 0 50px}.warp .hei_seting .title[data-v-4799a542]{font-size:14px;color:#d8d8d8;height:40px;line-height:40px;background:#f6f8fc;text-indent:14px}.warp .hei_seting .seting-positon[data-v-4799a542]{margin:40px 0 40px 142px}.warp .hei_seting .seting-positon .text[data-v-4799a542]{font-size:14px;color:#000;opacity:.57}.warp .hei_seting .seting-positon .lp[data-v-4799a542]{margin-left:14px;color:#333}.warp .hei_seting .seting-positon .tp[data-v-4799a542]{margin-left:56px;color:#333}.warp .hei_seting .seting-positon input[data-v-4799a542]{width:50px;height:34px;border:1px solid #d9d9d9}.warp .hei_seting .btn[data-v-4799a542]{text-align:center;padding-bottom:20px;background:#fff}.warp .hei_seting .btn .gey[data-v-4799a542]{font-size:16px;color:#fff;background:#f2f2f2;width:160px;height:40px;line-height:40px;border-radius:6px}.warp .hei_seting .btn .default[data-v-4799a542]{font-size:14px;color:#4877e7;background:#fff;width:160px;height:40px;line-height:40px;border-radius:6px;border:1px solid #4877e7;margin-left:50px}.warp .hei_seting .blue[data-v-4799a542]{background:#4877e7!important}",""])},W0L8:function(t,e,i){"use strict";function n(t){i("PaP/"),i("isnU")}Object.defineProperty(e,"__esModule",{value:!0});var r=i("D4ky"),o=i("LFBT"),a=i("XyMi"),s=n,p=Object(a.a)(r.a,o.a,o.b,!1,s,"data-v-4799a542",null);e.default=p.exports},iARk:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={getTotal:function(t){if(void 0!=t&&t.length>0){for(var e=0,i=0;i<t.length;i++)e++;return e}},getPageList:function(t,e,i){if(void 0!=t&&t.length>0){return t.filter(function(t,n){return n<e*i&&n>=e*(i-1)})}},unique:function(t){for(var e=[t[0]],i=1;i<t.length;i++)-1==e.indexOf(t[i])&&e.push(t[i]);return e}}},isnU:function(t,e,i){var n=i("E2U3");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("69ee9c0c",n,!0,{})},x2tZ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADpJREFUOBFjYBjUwKP8+X8QxudIJnySxMgNAwMYYf4kFFgwdTB6R6ckWC/FYQAzECs9Go1Yg2UQCgIAvIQOqMVwglsAAAAASUVORK5CYII="}});