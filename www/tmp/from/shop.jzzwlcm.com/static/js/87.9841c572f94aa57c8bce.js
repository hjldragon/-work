webpackJsonp([87],{"/RDf":function(t,i,o){i=t.exports=o("UTlt")(!1),i.push([t.i,"",""])},"2SRc":function(t,i,o){"use strict";function n(t){o("XRZL")}Object.defineProperty(i,"__esModule",{value:!0});var e=o("Di3a"),s=o("bnbs"),a=o("QAAC"),c=n,u=Object(a.a)(e.a,s.a,s.b,!1,c,"data-v-bdf13394",null);i.default=u.exports},Di3a:function(t,i,o){"use strict";var n=o("3cXf"),e=o.n(n),s=o("rUdh"),a=o("Yp/U"),c=o("6nXL"),u=o("a2vD");i.a={components:{accessPage:s.c},data:function(){return{list:JSON.parse(e()(s.a)),checkBox:{},position_id:null,position_name:"",shop_id:u.a.getShopid(),showPermi:!1,is_disable:!1,positionName:""}},created:function(){this.InitData(),this.getList()},methods:{InitData:function(){this.$route.query.infor||(this.$route.query.infor={}),this.positionName=this.$route.query.infor.position_name||"",this.position_id=this.$route.query.infor.position_id||null},getList:function(){var t=this;if(!this.position_id)return void(this.showPermi=!0);var i={get_position_info:1,position_id:this.position_id,shop_id:this.shop_id};a.a.getDutyList(i,function(i){if(console.log("是否修改=>",i),0===i.ret){var o=i.data.position_info;t.position_name=o.position_name,"1"==o.entry_type&&(t.is_disable=!0),"[object Object]"!==Object.prototype.toString.call(o.position_permission)&&(o.position_permission={}),t.checkBox=o.position_permission,t.showPermi=!0}else t.$slnotify({message:c.D.toString(i.ret)})})},cancelInfo:function(){void 0!==this.$route.query.all?this.goLastPath():void 0!==this.$route.query.infor?this.goLastPath():this.backToPoMa()},cancelMethods:function(){void 0!==this.$route.query.all?this.goLastPath():void 0!==this.$route.query.infor&&void 0!==this.$route.query.infor?this.goLastPath():this.cancelInfo()},save:function(t){var i=this;this.positionName=t.name;var o={save_position:1,position_permission:t.permission,position_name:t.name,shop_id:this.shop_id,position_not:""};this.position_id&&(o.position_id=this.position_id),a.a.editDutyRight(o,function(t){0===t.ret?(t.data.position_id&&(i.position_id=t.data.position_id),void 0!==i.$route.query.all||void 0!==i.$route.query.infor?i.goLastPath():i.backToPoMa(),i.$slnotify({message:"保存成功",duration:1500})):i.$slnotify({message:c.D.toString(t.ret)})})},goLastPath:function(){console.log(this.positionName),this.$router.push({path:this.$route.query.pathName,query:{positionName:this.positionName,positionId:this.position_id,employeeId:this.$route.query.employeeId,activeIndex:this.$route.query.activeIndex,departId:this.$route.query.departId}})},backToPoMa:function(){this.$router.push({path:"/staffmenu/staff",query:{activeIndex:"2"}})}}}},XRZL:function(t,i,o){var n=o("/RDf");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("FIqI")("658ad99a",n,!0,{})},"Yp/U":function(t,i,o){"use strict";o.d(i,"a",function(){return e});var n=o("EuEE"),e={getDepartList:function(t,i){n.a.DataEncSubmit("department_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},modifyDepartInfo:function(t,i){n.a.DataEncSubmit("department_save.php",t,function(t){i&&"function"==typeof i&&i(t)})},getStaffList:function(t,i){n.a.DataEncSubmit("employee_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},getDepartStaffList:function(t,i){n.a.DataEncSubmit("department_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},modifyStaffInfo:function(t,i){n.a.DataEncSubmit("user_info.php",t,function(t){i&&"function"==typeof i&&i(t)})},getPhoneTest:function(t,i){n.a.DataEncSubmit("login_save.php",t,function(t){i&&"function"==typeof i&&i(t)})},getPhoneTestNew:function(t,i){n.a.DataEncSubmit("employee_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},getUserInfor:function(t,i){n.a.DataEncSubmit("employee_save.php",t,function(t){i&&"function"==typeof i&&i(t)})},editDutyRight:function(t,i){n.a.DataEncSubmit("position_save.php",t,function(t){i&&"function"==typeof i&&i(t)})},getDutyList:function(t,i){n.a.DataEncSubmit("position_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},getShopData:function(t,i){n.a.DataEncSubmit("shopinfo_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},getLoginInfo:function(t,i){n.a.DataEncSubmit("shop_get.php",t,function(t){i&&"function"==typeof i&&i(t)})},saveLginInfo:function(t,i){n.a.DataEncSubmit("shop_save.php",t,function(t){i&&"function"==typeof i&&i(t)})}}},bnbs:function(t,i,o){"use strict";o.d(i,"a",function(){return n}),o.d(i,"b",function(){return e});var n=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"position-page"},[t.showPermi?o("access-page",{attrs:{list:t.list,is_disable:t.is_disable,position_name:t.position_name,position_id:t.position_id,checkBox:t.checkBox},on:{close:t.cancelMethods,save:t.save}},[o("div",{staticClass:"sl-tab-box",attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"can-click-nav",on:{click:function(i){t.cancelInfo()}}},[t._v("职位管理")]),t._v(" "),o("span",{staticClass:"can-click-nav"},[t._v(">")]),t._v(" "),t.position_id?o("span",{staticClass:"no-click-nav"},[t._v("添加职位")]):o("span",{staticClass:"no-click-nav"},[t._v("编辑职位")])])]):t._e()],1)},e=[]}});