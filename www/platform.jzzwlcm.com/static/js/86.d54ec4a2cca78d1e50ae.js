webpackJsonp([86],{"O+do":function(e,t){},YvHh:function(e,t){},sXWy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("6nXL"),n=a("a2vD"),s=a("Xtis"),l=a("EuEE"),r=a("N6PA"),c={data:function(){return{agentid:n.a.getAgentid(),displayData:{agent_type:{label:"代理商类型",value:""},agent_level:{label:"代理商级别",value:""},agent_area:{label:"代理区域",value:""},agent_name:{label:"代理商名称",value:""},login_phone:{label:"代理商登录账号",value:""}},real_name:"",telephone:"",email:"",address:"",contactErr:!1,contactPhoneErr:!1,emailErr:!1,cancelDialogVisible:!1}},computed:{showSaveBtn:function(){return!!(this.real_name&&this.telephone&&this.address)}},created:function(){this.getAgentinfo()},mounted:function(){var e=this;this.$nextTick(function(){var t=e.$refs.adjustHeight;l.a.AdjustHeight(t)})},methods:{getAgentinfo:function(){var e=this,t={agent_info:1,agent_id:this.agentid};Object(s.e)(t).then(function(t){if(0===t.ret){var a=t.data.agent_info;if(!l.a.isEmpty(a.agent_type)){var n=a.agent_type;e.displayData.agent_type.value=i.f.toString(n)}l.a.isEmpty(a.agent_level)||(e.displayData.agent_level.value=i.d.toString(a.agent_level)),e.displayData.agent_area.value=a.agent_province+"-"+a.agent_city+"-"+a.agent_area,e.displayData.agent_name.value=a.agent_name||"",e.displayData.login_phone.value=a.phone,e.real_name=a.real_name,e.telephone=a.telephone,e.email=a.email||"",e.address=a.address}else e.$slnotify({message:i.C.toString(t.ret),duration:1500})})},clearTip:function(){this.contactErr=!1,this.contactPhoneErr=!1,this.emailErr=!1},checkRealName:function(){var e=this.real_name.trim(),t=l.a.checkName(e);return t||(this.contactErr=!0),t},checkTelephone:function(){var e=r.a.isTelePhone(this.telephone);return e||(this.contactPhoneErr=!0),e},checkEmail:function(){var e=l.a.checkEmail(this.email);return e||(this.emailErr=!0),e},check:function(){var e=!1;return this.checkTelephone()||(e=!0),this.checkRealName()||(e=!0),""===this.email||this.checkEmail()||(e=!0),e},openCancelDialog:function(){this.cancelDialogVisible=!0},hideCancelDialog:function(){this.cancelDialogVisible=!1},cancelEditor:function(){this.$router.push("/areaagent/agentinfo")},save:function(){var e=this;if(!this.check()){var t={save_agent:1,agent_id:this.agentid,telephone:this.telephone,real_name:this.real_name,address:this.address};this.email&&(t.email=this.email),Object(s.f)(t).then(function(t){0===t.ret?(e.$slnotify({message:"保存成功",duration:1500}),setTimeout(function(){e.$router.push("/areaagent/agentinfo")},1500)):e.$slnotify({message:i.C.toString(t.ret),duration:1500})})}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"areaagent-baseinfo-editor"}},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/areaagent/agentinfo"}}},[e._v("代理商信息")]),e._v(" "),a("el-breadcrumb-item",[e._v("编辑基础信息")])],1)],1),e._v(" "),a("div",{staticClass:"baseinfo-content"},[e._m(0),e._v(" "),a("div",{staticClass:"editor-content"},[a("div",{staticClass:"display-content"},e._l(e.displayData,function(t,i){return a("div",{staticClass:"item clearfix"},[a("div",{staticClass:"item-left fl"},[a("span",[e._v(e._s(t.label))])]),e._v(" "),a("div",{staticClass:"item-right fl"},[a("span",[e._v(e._s(t.value))])])])})),e._v(" "),a("div",{staticClass:"item clearfix"},[e._m(1),e._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":e.contactErr},attrs:{placeholder:"请输入联系人姓名"},on:{blur:e.checkRealName},nativeOn:{input:function(t){return e.clearTip(t)}},model:{value:e.real_name,callback:function(t){e.real_name=t},expression:"real_name"}})],1),e._v(" "),e.contactErr?a("div",{staticClass:"errtip fl"},[a("span",[e._v("请输入中文、字母或数字")])]):e._e()]),e._v(" "),a("div",{staticClass:"item clearfix"},[e._m(2),e._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":e.contactPhoneErr},attrs:{placeholder:"请输入联系人电话"},on:{blur:e.checkTelephone},nativeOn:{input:function(t){return e.clearTip(t)}},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}})],1),e._v(" "),e.contactPhoneErr?a("div",{staticClass:"errtip fl"},[a("span",[e._v("请输入正确格式的手机")])]):e._e()]),e._v(" "),a("div",{staticClass:"item clearfix"},[e._m(3),e._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{class:{"border-redtip":e.emailErr},attrs:{placeholder:"请输入联系人邮箱"},on:{blur:e.checkEmail},nativeOn:{input:function(t){return e.clearTip(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),e.emailErr?a("div",{staticClass:"errtip fl"},[a("span",[e._v("请输入正确格式的邮箱")])]):e._e()]),e._v(" "),a("div",{staticClass:"item clearfix"},[e._m(4),e._v(" "),a("div",{staticClass:"item-right fl"},[a("el-input",{attrs:{placeholder:"请输入详细地址"},nativeOn:{input:function(t){return e.clearTip(t)}},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)]),e._v(" "),a("div",{ref:"adjustHeight"}),e._v(" "),a("div",{staticClass:"btn-group"},[e.showSaveBtn?a("div",{staticClass:"create",on:{click:e.save}},[e._v("保存")]):a("div",{staticClass:"create-disabled"},[e._v("保存")]),e._v(" "),a("div",{staticClass:"cancel",on:{click:e.openCancelDialog}},[e._v("取消")])])])]),e._v(" "),a("el-dialog",{staticClass:"nopadding cancel-dialog",attrs:{visible:e.cancelDialogVisible,width:"600px",top:"35vh",center:""},on:{"update:visible":function(t){e.cancelDialogVisible=t}}},[a("div",{staticClass:"cancel-content"},[a("span",[e._v("将放弃填写内容，确定取消本次编辑？")])]),e._v(" "),a("div",{staticClass:"btn-dialog",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"btn-Dialogok",on:{click:e.cancelEditor}},[e._v("确认")]),e._v(" "),a("div",{staticClass:"btn-Dialogcancel",on:{click:e.hideCancelDialog}},[e._v("取消")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title clearfix"},[t("span",[this._v("基础信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-left fl"},[t("span",{staticClass:"sl-must"},[this._v("联系人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-left fl"},[t("span",{staticClass:"sl-must"},[this._v("联系电话")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-left fl"},[t("span",[this._v("邮箱")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-left fl"},[t("span",{staticClass:"sl-must"},[this._v("地址")])])}]};var v=a("C7Lr")(c,o,!1,function(e){a("YvHh"),a("O+do")},"data-v-7861beee",null);t.default=v.exports}});