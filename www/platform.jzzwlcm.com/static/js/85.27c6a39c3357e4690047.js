webpackJsonp([85],{"1hbO":function(t,e){},iNZw:function(t,e){},kNR5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("4YfN"),i=a.n(s),n=a("6ROu"),l=a.n(n),r=a("Fzxs"),c=a("CW5y"),o=a("EuEE"),u=a("9rMa"),m=a("lbRB"),p=a("6nXL"),h={components:{EmptyTable:r.a},data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},agentLevelData:[{label:"全部",value:0},{label:p.d.toString(p.d.FIRST),value:p.d.FIRST},{label:p.d.toString(p.d.SECOND),value:p.d.SECOND},{label:p.d.toString(p.d.THREE),value:p.d.THREE}],activeName:"first",creatTime:null,applycerTime:null,agentName:"",agentLevel:"",list:[],emptyType:1,total:100,listQuery:{page:1,limit:10},isSort:!1,sortLabel:"",sortOrder:1,AgentBusinessStatus:p.b}},computed:i()({},Object(u.b)(["agent_business_status"]),{activeNames:function(){var t=void 0;switch(this.agent_business_status){case p.b.DURING:t="first";break;case p.b.SUC:t="second";break;case p.b.FAIL:t="three"}return t},isListEmpty:function(){return 0===this.list.length}}),watch:{activeNames:{handler:function(t){this.activeName=t}}},created:function(){this.listQuery.limit=c.a.get(this.$route),this.activeName=this.activeNames,this.getList()},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.certificateTable.$refs.bodyWrapper;o.a.AdjustHeight(e)})},methods:{sort:function(t){this.sortLabel=t.prop,"descending"===t.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===t.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList(),c.a.set(this.$route,t)},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},handleClick:function(t){var e=t.name;"first"===e?(this.$store.commit("CHANGE_BUSINESSTATUS",p.b.DURING),this.clearSearchParam(),this.getList()):"second"===e?(this.$store.commit("CHANGE_BUSINESSTATUS",p.b.SUC),this.clearSearchParam(),this.getList()):"three"===e&&(this.$store.commit("CHANGE_BUSINESSTATUS",p.b.FAIL),this.clearSearchParam(),this.getList())},clearSearchParam:function(){this.creatTime=null,this.applycerTime=null,this.agentName="",this.agentLevel=""},goCert:function(t){this.$router.push({path:"/agentcertificate/detail",query:{agentid:t}})},search:function(){this.emptyType=2,this.listQuery.page=1,this.getList()},getData:function(){var t={agent_list:1,page_size:this.listQuery.limit,page_no:this.listQuery.page,business_status:this.agent_business_status};if(!o.a.isEmpty(this.creatTime)){var e=this.creatTime[0],a=this.creatTime[1];t.begin_time=parseInt(l()(e).format("X")),t.end_time=parseInt(l()(a).format("X"))+86400}if(!o.a.isEmpty(this.applycerTime)){var s=this.applycerTime[0],i=this.applycerTime[1];t.begin_bsub_time=parseInt(l()(s).format("X")),t.end_bsub_time=parseInt(l()(i).format("X"))}return""!==this.agentName&&(t.agent_name=this.agentName),""!==this.agentLevel&&(t.agent_level=this.agentLevel),this.isSort&&(t.sort_name=this.sortLabel,t.desc=this.sortOrder),t},getList:function(){var t=this,e=this.getData();Object(m.c)(e).then(function(e){0===e.ret&&(t.list=e.data.list||[],t.total=e.data.total,t.list=t.list.map(function(t){return t.ctime?t.ctime=l()(1e3*t.ctime).format("YYYY.MM.DD"):t.ctime="--",t.business_time?t.business_time=l()(1e3*t.business_time).format("YYYY.MM.DD"):t.business_time="--",t.bs_submit_time?t.bs_submit_time=l()(1e3*t.bs_submit_time).format("YYYY.MM.DD"):t.bs_submit_time="--",t.agent_level&&(t.agent_level=p.d.toString(t.agent_level)),t.agent_type&&(t.agent_type=p.f.toString(t.agent_type)),t}))})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"certificate-list"}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{staticClass:"label-title",attrs:{slot:"label"},slot:"label"},[t._v("待处理")]),t._v(" "),a("div",{staticClass:"wait-certicifate"})]),t._v(" "),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{staticClass:"label-title",attrs:{slot:"label"},slot:"label"},[t._v("认证成功")]),t._v(" "),a("div",{staticClass:"suc-certicifate"})]),t._v(" "),a("el-tab-pane",{attrs:{name:"three"}},[a("span",{staticClass:"label-title",attrs:{slot:"label"},slot:"label"},[t._v("认证失败")]),t._v(" "),a("div",{staticClass:"fail-certicifate"})])],1),t._v(" "),a("div",{attrs:{id:"list-content"}},[a("div",{staticClass:"search-content clearfix"},[a("div",{staticClass:"time fl clearfix search-item"},[t._m(0),t._v(" "),a("div",{staticClass:"fl"},[a("el-date-picker",{attrs:{"unlink-panels":"",editable:!1,type:"daterange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.creatTime,callback:function(e){t.creatTime=e},expression:"creatTime"}})],1)]),t._v(" "),a("div",{staticClass:"time fl clearfix search-item"},[t._m(1),t._v(" "),a("div",{staticClass:"fl"},[a("el-date-picker",{attrs:{"unlink-panels":"",editable:!1,type:"daterange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.applycerTime,callback:function(e){t.applycerTime=e},expression:"applycerTime"}})],1)]),t._v(" "),a("div",{staticClass:"name fl clearfix search-item"},[t._m(2),t._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"请选择代理商级别"},model:{value:t.agentLevel,callback:function(e){t.agentLevel=e},expression:"agentLevel"}},t._l(t.agentLevelData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"name fl clearfix search-item"},[t._m(3),t._v(" "),a("div",{staticClass:"fl"},[a("el-input",{attrs:{placeholder:"请输入代理商名称"},model:{value:t.agentName,callback:function(e){t.agentName=e},expression:"agentName"}})],1)]),t._v(" "),a("div",{staticClass:"search-btn fl",on:{click:t.search}},[t._v("搜索")])]),t._v(" "),a("div",{staticClass:"table-content change-default"},[a("el-table",{ref:"certificateTable",attrs:{data:t.list,stripe:""},on:{"sort-change":t.sort}},[a("el-table-column",{key:Math.random(),attrs:{prop:"ctime",label:"创建时间","min-width":"80",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"adjust-center"},[t._v(t._s(e.row.ctime))])]}}])}),t._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"bs_submit_time",label:"申请审核时间","min-width":"80",align:"center",sortable:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"adjust-center"},[t._v(t._s(e.row.bs_submit_time))])]}}])}),t._v(" "),t.AgentBusinessStatus.DURING!==t.agent_business_status?a("el-table-column",{key:Math.random(),attrs:{prop:"business_time",label:"审核时间","min-width":"80",align:"center",sortable:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"adjust-center"},[t._v(t._s(e.row.business_time))])]}}])}):t._e(),t._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"agent_name",label:"代理商名称","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.agent_name))])]}}])}),t._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"agent_level",label:"代理商级别","min-width":"80",align:"center",sortable:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"adjust-center"},[t._v(t._s(e.row.agent_level))])]}}])}),t._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"agent_type",label:"代理商类型","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.agent_type))])]}}])}),t._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"opterate",label:"操作","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.AgentBusinessStatus.DURING===t.agent_business_status?a("span",{staticClass:"cert-btn",on:{click:function(a){t.goCert(e.row.agent_id)}}},[t._v("审核")]):a("span",{staticClass:"cert-btn",on:{click:function(a){t.goCert(e.row.agent_id)}}},[t._v("查看")])]}}])})],1),t._v(" "),t.isListEmpty?a("empty-table",{attrs:{type:t.emptyType}}):t._e()],1),t._v(" "),a("div",{staticClass:"pagination-content change-pagination-default"},[a("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("创建时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("申请审核时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("代理商级别")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("名称")])])}]};var _=a("C7Lr")(h,d,!1,function(t){a("1hbO"),a("iNZw")},"data-v-7aa0dd65",null);e.default=_.exports}});