webpackJsonp([35],{"+WNq":function(t,e){},KZuH:function(t,e,i){"use strict";(function(t){var a=i("Xtis"),s=i("a2vD"),o=i("HPzi"),n=i("6nXL"),r=i("aJ9H"),c=i.n(r);e.a={data:function(){return{height:0,form:{name:"",arrRight:[]},platformer_id:"",positionId:"",agentId:"",rules:{name:[{required:!0,validator:function(t,e,i){""===e?i(new Error("请输入职位姓名")):e.length>20?i(new Error("职位名称不能超过20字")):!0===/[\s]+/g.test(e)?i(new Error("部门名称不能包含空格符")):i()},trigger:"input,change"}]},isOffRight:!1,isCheckAll:!1,isSave:!1,isSaveAdd:!1,isCantClick:!0}},created:function(){var e=this;this.height=document.documentElement.clientHeight-271+"px",t(window).resize(function(){e.height=document.documentElement.clientHeight-271+"px"}),this.$route.query.positionId&&this.initData(),this.platformer_id=this.$route.query.platformer_id,this.agentId=s.a.getAgentid()},methods:{initData:function(){var e=this;this.positionId=this.$route.query.positionId||"";var i={get_ag_position_info:1,ag_position_id:this.positionId};Object(a.c)(i).then(function(i){0===i.ret?(e.form.name=i.data.position_info.ag_position_name,i.data.permission&&i.data.permission.length>0?(1===i.data.permission[0]?(e.isCheckAll=!0,e.form.arrRight=c.a):(e.isCheckAll=!1,e.form.arrRight=Object(o.b)(i.data.permission)),e.isOffRight=!1):(e.form.arrRight=[],e.isOffRight=!0,t(".no-right").attr("disabled",!0),t(".not-all").attr("disabled",!0)),e.cheInput("form")):e.$slnotify({message:n.C.toString(i.ret)})})},cheInput:function(t){var e=this;this.$refs[t].validate(function(t){e.isCantClick=!t})},handleCheckAllChange:function(t){this.form.arrRight=t?c.a:[]},handleCheckedCitiesChange:function(t){var e=t.length;this.isCheckAll=e===c.a.length},goEditStaffInfo:function(){this.$router.push({path:this.$route.query.pathName,query:{positionName:this.form.name,ag_employee_id:this.$route.query.ag_employee_id,activeIndex:this.$route.query.activIndex,choosed_depart_name:this.$route.query.choosed_depart_name,choosed_depart_id:this.$route.query.choosed_depart_id}})},saveAddInfo:function(){var t=this,e=[n.D.ALL],i={ag_position_save:1,ag_position_name:this.form.name,ag_position_permission:e,ag_position_note:"备注",agent_id:this.agentId};""!==this.positionId&&(i.pl_position_id=this.positionId),Object(a.d)(i).then(function(e){0===e.ret?(t.$refs.form.resetFields(),t.form.arrRight=[],t.$slnotify({message:"保存成功,请继续添加"})):-20034===e.ret?t.$slnotify({message:"该职位已存在"}):t.$slnotify({message:n.C.toString(e.ret)})}),this.isCantClick=!0},saveInfo:function(){var t=this;this.isSave=!0;var e=[n.D.ALL],i={ag_position_save:1,ag_position_name:this.form.name,ag_position_permission:e,ag_position_note:"备注",agent_id:this.agentId};""!==this.positionId&&(i.ag_position_id=this.positionId),Object(a.d)(i).then(function(e){0===e.ret?(t.$slnotify({message:"保存成功"}),t.$router.push({path:t.$route.query.pathName,query:{positionName:t.form.name,ag_employee_id:t.$route.query.ag_employee_id,ag_position_id:e.data.ag_position_id,activeIndex:t.$route.query.activIndex,choosed_depart_name:t.$route.query.choosed_depart_name,choosed_depart_id:t.$route.query.choosed_depart_id}})):-20034===e.ret?t.$slnotify({message:"该职位已存在"}):t.$slnotify({message:n.C.toString(e.ret)})})},unFinish:function(){this.$slnotify({message:"请输入职位"})},cancelInfo:function(){this.$route.query.platformer_id?this.$router.push({path:this.$route.query.pathName,query:{platformer_id:this.platformer_id,ag_position_id:this.$route.query.ag_position_id,positionName:this.$route.query.position_name,ag_employee_id:this.$route.query.ag_employee_id,activeIndex:this.$route.query.activIndex,choosed_depart_name:this.$route.query.choosed_depart_name,choosed_depart_id:this.$route.query.choosed_depart_id}}):this.$router.push({path:this.$route.query.pathName,query:{ag_employee_id:this.$route.query.ag_employee_id,ag_position_id:this.$route.query.ag_position_id,positionName:this.$route.query.position_name,activeIndex:this.$route.query.activIndex,choosed_depart_name:this.$route.query.choosed_depart_name,choosed_depart_id:this.$route.query.choosed_depart_id}})}}}}).call(e,i("L7Pj"))},U1xG:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAA/hJREFUWAnVmE1IVFEUx50PdWbUVgkygTWOOgN9oEHtIloJlX1BlLUIahFCuIyghRLVKkiiEBdCi8BolYiCQVREUBFURKAzTeZkQ4vaqCjOZ7/zmPe4Mz7H9yrTLlzuuef+zzn/+33fc5SVSBMTE5toPkw+kMvlgpRSryavZprFecLhcMQoR8hDoVDo23IBHWYNk5OTdYuLiz20nSO7zTD/UJcm1kBlZWVPIBD4Xhx3SQcY9f2ABhnxDcXgtawzIzPE72A2RlUeTrUyPj7eSX14vZEXjnlOw3mOBm1jBvIjL+SNTtHrLMgn6B4hT1GWUzaiO4Tcanj5+4IsG9Olm+fUrs+E1gFZ88lkcgJSxrIB+MLtdncGg8EPZvyi0WhbNpvtwyZg1m5FR4zr2Muh0KXgkz6fL7CwsPCctgZFb4jYzVRUVIRkT2ijLRu2iPxgc3PzvuXIi6empqaxqqqqXYhvDM/2hTMM0g0IyYmjJeQHkK9djryAhGv+kClzyFGJ4gt6bcpw8BryeyiTAl4pxeNxPwHf4aN2JaxZO3HkwJDYx5FlyW4ld6M7aYZXdGnwW8RQznljvaHsIlsiL87q6+sTDEIP4h2pW03hcNjYfyY2Hegkl7FpcybtotK4ywyM0Fs5Ossg/pbNsVNkOymRSPhmZ2d/4Mdrx07FEruF+lV8HFT1pWRsRp0YNOog5Me6bKf0+/3z2L60Y1OM9Xg8cXxsLtaXqoMPyjT4dZDT6ZzWZbslozGNQ0tmJZbPDjMHJZaRXzpgJAj89hKwY1tMiM7fq6mpOT8/P1+dTqc/Q6jKILWCIMdoQsGEFdmuGLJrIHjI51wuV9/c3Fw394qshis2/CScOPikGMirs1ypWxIZUbnMtlsCF4KSxD/N0v1J3C460Msh0ovuZiHMvAYuJjMgT1Yt4WQjN6y8h2wlHF22ZQAYm4+MfBs5yivgKbE9qPdGIpG73EOXkI+A+bqC3xHpwBBZ3h5aYhSuxWIxy6NJh9sxPJs3t1JEIHYMkq2QDqdSqWcY1emG6DroxCtu6BiYBmbnFPiM3q6Uaa/X+9DJlMnHwoDSUI3TMe6H3YrOVARzNJPJyE1a6lIqsIWMG/w2bCPylqLRVwCgQnsLft+DuY/cTHYVY6gPyCWqBTZ7zAFIkfuY4lu8e2KqA0a9leAX0Z3AuWXyqo8/kRkE4zFnBKe3chsXPKf1IBhIB6bIssEbIC2flmuS4CLvpcLntM6E06QTwG0Iyt5Yd0nIw+0CF6EsPS0ZM6Ar8jPxf35SSifkS0c+FhD7ycbpJG1rlIRDv3ASbsUclsyACmA2ZK3rv1Xk0Sc35Wr/VpkjhvxWkQtW7qiSv1V+Ac/6vYWE7UtAAAAAAElFTkSuQmCC"},WAUJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("KZuH"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edit-position"}},[a("div",{staticClass:"header"},[a("p",["/areaagent/organize"!==t.$route.query.pathName?a("span",[t.$route.query.ag_employee_id?a("span",[a("router-link",{attrs:{to:{path:"/areaagent/organize",query:{activeIndex:"1"}}}},[a("span",{staticClass:"black"},[t._v("员工管理")])]),t._v(" "),a("span",{staticClass:"black"},[t._v(">")]),t._v(" "),a("span",{staticClass:"black",on:{click:t.goEditStaffInfo}},[t._v("编辑员工信息")])],1):a("span",[a("router-link",{attrs:{to:{path:"/areaagent/organize",query:{activeIndex:"1"}}}},[a("span",{staticClass:"black"},[t._v("员工管理")])]),t._v(" "),a("span",{staticClass:"black"},[t._v(">")]),t._v(" "),a("span",{staticClass:"black",on:{click:t.goEditStaffInfo}},[t._v("创建员工")])],1)]):a("router-link",{attrs:{to:{path:"/areaagent/organize",query:{activeIndex:"2"}}}},[a("span",{staticClass:"black"},[t._v("职级管理")])]),t._v(" "),a("span",{staticClass:"text-green"},[t._v(">")]),t._v(" "),t.$route.query.positionId?a("span",{staticClass:"text-green"},[t._v("编辑职位信息")]):a("span",{staticClass:"text-green"},[t._v("新增职位信息")])],1)]),t._v(" "),a("div",{staticClass:"basic-info",style:{height:t.height}},[t._m(0),t._v(" "),a("div",{staticClass:"basic-info",style:{height:t.height}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",size:"mini",rules:t.rules}},[a("el-form-item",{attrs:{label:"职位名称",prop:"name"}},[a("el-input",{staticClass:"one-four",on:{input:function(e){t.cheInput("form")}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"权限",prop:"right"}},[a("span",[t._v("是否启用")]),t._v(" "),t.isOffRight?a("img",{staticClass:"switch-icon",attrs:{src:i("U1xG"),alt:""},on:{click:function(e){t.isOffRight=!1}}}):a("img",{staticClass:"switch-icon",attrs:{src:i("oevl"),alt:""},on:{click:function(e){t.isOffRight=!0}}})]),t._v(" "),a("el-form-item",{attrs:{label:""}}),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{label:"商户列表",name:"arrRight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{label:"查看商户",name:"arrRight"}}),t._v(" "),a("el-checkbox",{attrs:{label:"维护商户",name:"arrRight"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"btn-group"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isCantClick,expression:"isCantClick===true"}],staticClass:"save-btn cant-click",on:{click:t.unFinish}},[t._v("保存")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.isCantClick,expression:"isCantClick===false"}],staticClass:"save-btn",on:{click:t.saveInfo}},[t._v("保存")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isCantClick&&""===t.positionId,expression:"isCantClick===true&&positionId === ''"}],staticClass:"save-btn cant-click",on:{click:t.unFinish}},[t._v("保存并继续添加")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.isCantClick&&""===t.positionId,expression:"isCantClick===false&&positionId === ''"}],staticClass:"save-btn",on:{click:t.saveAddInfo}},[t._v("保存并继续添加")]),t._v(" "),a("div",{staticClass:"cancel-btn",on:{click:t.cancelInfo}},[t._v("取消")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-bar"},[e("span",{staticClass:"text-strong"},[this._v("职位信息")])])}]};var o=function(t){i("zYkI"),i("+WNq")},n=i("C7Lr")(a.a,s,!1,o,"data-v-de8cb79e",null);e.default=n.exports},oevl:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAA41JREFUWAnVWE9IVEEYn2/cXTPS6FQoRK5rhptBeIuKQvJghHQr6FBEaVEd6taf9SlFBJ26hAchukS3IuvUQbpUUCd9ibprdUg7iEGFortvvr7vLfMa1337r9ytd3gz75tvZn7ffH/ngcjx3JzY3pBKproRxWEU2AQADYi4IceUPx8C+CEQZ0BAAkA8DwQDT6+3TH7xWxiyDVh2dItQixYKcZqAB7LxlItGgqQI5JCQNZYVtb9m7rtKAOtDuAuVeEQnXZfJXMlv0v53kOK41Tr9wsQhzY/YaPgcKnz2r4FnjIyJsTFGE7OngfTJM3ixQiiTeS37ZCrvUIphKTChlEzSXlsJ9iEA7DAxkV8okHBEa8IVgG0ecXGiIicPkJBS9BKgl9kOaMCORFOo7pMK9ulx15ygpoV9Iu2grsNmt/mBto+elvQCfm1stJH8vpgH3kuo6bRa7Xm/WbFo3B7E9o4Z+9tDOuBjzMcHDbhoUbcXOFQml1Of8kUbKWUPomondZ7lRfhh4YoHnZ5LpjAfDAZ35QqRac70+95UpHpuyXktUOxmCkenYCiwTbpxvgKhElDeLhQ8A77UHF+SWHWZ+/zwgTN2yUkqTSrr2xGhqgfF7mi1xUfInqf1PMYuSRcRTShXS+oft1om50raD+CVnsfVATtxvSZktj4O3GPymTyF+gN5+qy5RpH939kYoD5nmWACqpKyy1F4hqzvqN6wVCcGgbV6jWJbMqFaM9Rx0prJuwjtiGLdWzK3nXl5C2AgAC0WHsh5eH7LkNlEvTEq+ijxibhH8OkAgh0AVUtiNPuwFEveBOOfDxY76dZ042aBsFfPI19KSC5ZNcGvBSGvLOPSSb/xUuhKgUUJqeAkyXskF+CGma8Yu+R6m5NCNhCUsn8KCSdkQM0CiqvZeEqlEfg9/WNNfYXO77cj3Urgec3vYg4En0hOJnQMQ3pgRYvijURwHAdHaMPQirG/8EGA+vrGwnfy+UPMDp9yUD0mc/c0xpitHRN08aGnosUc7U+aniRsd6tlaPha67gbYq2pSJ1YdjrpbnKRnH6/eV5mMedJVOlyWgMkQAskDJXTuFHTzDaznPZqf66vyacuMIM5odx9Ou31ucAzRn0XYGyeBjTQ//pKyUKwdECXBSqSBv2ikxa2HC1jcLHwBSbjPsz7r9KACcr8rUKcXPTVUzRa098qbujm6oASLMf5fL9VfgF+GY5z+DF2ywAAAABJRU5ErkJggg=="},zYkI:function(t,e){}});