webpackJsonp([78],{Tlvn:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("6nXL"),a=r("6ROu"),s=r.n(a),n=r("r2UX"),o=r("P9l9"),l=r("HBwt"),d=r.n(l),c={components:{EmptyTable:n.a},data:function(){return{vendor_id:"",cargoway_order_id:"",list:[],emptyType:1,multipleSelection:[],total:100,listQuery:{page:1,limit:10},isSort:!1,sortLabel:"",sortOrder:1}},computed:{isListEmpty:function(){return 0===this.list.length}},created:function(){this.vendor_id=this.$route.query.vendorid||"",this.vendor_id&&this.getList()},mounted:function(){this.$refs.cargowayWaterTableAdjust.$refs.bodyWrapper.style.minHeight="400px"},methods:{getList:function(){var t=this,e={vendor_aisle_order:1,page_size:this.listQuery.limit,page_no:this.listQuery.page,vendor_id:this.vendor_id};this.cargoway_order_id&&(e.order_name=this.cargoway_order_id),this.isSort&&(e.sortby=this.sortLabel,e.sort=this.sortOrder),console.log("货道流水 req=>",e),Object(o._14)(e).then(function(e){if(console.log("货道流水 res=>",e),0===e.ret){var r=null,a={width:1,height:38,displayValue:!1};t.list=e.data.list||[],t.total=e.data.total,t.list.map(function(e){return e.pay_time&&(e.pay_time_str=s()(1e3*e.pay_time).format("YYYY.MM.DD HH:mm:ss")),t.$nextTick(function(){e.goods_bar_code&&(r=this.$refs["barcode"+e.vendor_order_id+e.aisle_id+e.vendor_id],d()(r,e.goods_bar_code,a))}),e})}else t.$slnotify({message:i.X.toString(e.ret)})})},handleSizeChange:function(t){this.listQuery.page=1,this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},sort:function(t){this.sortLabel=t.prop,"descending"===t.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===t.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getList()},search:function(){this.emptyType=2,this.listQuery.page=1,this.getList()}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"cargoway-water-table"}},[r("div",{staticClass:"search-content clearfix"},[r("div",{staticClass:"search-left fl clearfix"},[r("div",{staticClass:"search-item fl cargoway_order_id"},[r("span",{staticClass:"label-title"},[t._v("名称/编号")]),t._v(" "),r("el-input",{attrs:{placeholder:"名称/编号"},model:{value:t.cargoway_order_id,callback:function(e){t.cargoway_order_id=e},expression:"cargoway_order_id"}})],1),t._v(" "),r("div",{staticClass:"search-item search-btn-h-28 fl",on:{click:t.search}},[t._v("搜索")])]),t._v(" "),r("div",{staticClass:"search-right fr"},[r("div",{staticClass:"search-item search-btn-h-28",on:{click:t.search}},[t._v("刷新")])])]),t._v(" "),r("div",{staticClass:"table-content change-default"},[r("el-table",{ref:"cargowayWaterTableAdjust",attrs:{data:t.list,stripe:""},on:{"sort-change":t.sort}},[r("el-table-column",{attrs:{prop:"vendor_order_id",label:"订单编号","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.vendor_order_id))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"aisle_id",label:"货道编号","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.aisle_id))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"vendor_id",label:"设备编号","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.vendor_id))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.goods_name))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"goods_bar_code",label:"商品条码","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{ref:"barcode"+t.row.vendor_order_id+t.row.aisle_id+t.row.vendor_id})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"goods_num",label:"交易数量","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.goods_num))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"aisle_num",label:"剩余数量","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.aisle_num))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"pay_time",label:"交易时间","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.pay_time_str))])]}}])})],1),t._v(" "),t.isListEmpty?r("empty-table",{attrs:{type:t.emptyType}}):t._e()],1),t._v(" "),r("div",{staticClass:"pagination-contentrr change-pagination-default"},[r("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)])},staticRenderFns:[]};var _=r("C7Lr")(c,u,!1,function(t){r("nCRe"),r("ZHVa")},"data-v-5ab79bf8",null);e.default=_.exports},ZHVa:function(t,e){},nCRe:function(t,e){}});