webpackJsonp([151],{A6aE:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("IHPB"),n=s.n(e),c=s("4YfN"),a=s.n(c),o=s("9rMa"),l=s("Jpdf"),r=s.n(l),p=s("UnC9"),h=s("7+am"),u={components:{SlUpload:p.a,draggable:r.a,PrePicture:h.a},data:function(){return{pcList:[],phoneList:[],base_url:"./php",isDraggingpc:!1,isDraggingphone:!1,dragOptions:{group:{name:"group",put:!1,pull:!1},animation:300,ghostClass:"ghost"},preImg:"",showPicture:!1}},computed:a()({},Object(o.d)({desc_img_pc:function(t){return t.shopmall_goods.desc_img_pc},desc_img_phone:function(t){return t.shopmall_goods.desc_img_phone}}),{pcNumber:function(){return this.pcList.length},phoneNumber:function(){return this.phoneList.length}}),watch:{desc_img_pc:function(t){t&&0!==t.length&&(this.pcList=[].concat(n()(t)))},desc_img_phone:function(t){t&&0!==t.length&&(this.phoneList=[].concat(n()(t)))}},methods:a()({},Object(o.c)(["SMG_SET_DESCIMGPC","SMG_SET_DESCIGMPHONE"]),{dragend:function(){this.isDraggingpc=!1,this.isDraggingphone=!1,this.SMG_SET_DESCIMGPC({desc_img_pc:[].concat(n()(this.pcList))}),this.SMG_SET_DESCIGMPHONE({desc_img_phone:[].concat(n()(this.phoneList))})},pcUploadHandler:function(t){-1===this.pcList.indexOf(t)?(this.pcList.push(t),this.SMG_SET_DESCIMGPC({desc_img_pc:[].concat(n()(this.pcList))})):this.$notify({title:"警告",message:"重复图片",type:"warning"})},phoneUploadHandler:function(t){-1===this.phoneList.indexOf(t)?(this.phoneList.push(t),this.SMG_SET_DESCIGMPHONE({desc_img_phone:[].concat(n()(this.phoneList))})):this.$notify({title:"警告",message:"重复图片",type:"warning"})},isshowPcPicture:function(t){this.preImg=this.pcList[t],this.showPicture=!0},isshowPhonePicture:function(t){this.preImg=this.phoneList[t],this.showPicture=!0},deletePcPicture:function(t){this.pcList.splice(t,1),this.SMG_SET_DESCIMGPC({desc_img_pc:[].concat(n()(this.pcList))})},deletePhonePicture:function(t){this.phoneList.splice(t,1),this.SMG_SET_DESCIGMPHONE({desc_img_phone:[].concat(n()(this.phoneList))})},isclosePicture:function(){this.showPicture=!1},phonePreviewClick:function(){this.$emit("phone-preview")}})},_={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"describe-picture"},[t._m(0),t._v(" "),e("div",{staticClass:"content clearfix"},[e("div",{staticClass:"pc-picture edit-item clearfix fl"},[t._m(1),t._v(" "),e("div",{staticClass:"edit-content fl"},[e("div",{staticClass:"upload-content"},[e("sl-upload",{attrs:{"img-number":t.pcNumber},on:{"send-image":t.pcUploadHandler}}),t._v(" "),e("span",{staticClass:"tip"},[t._v("注：宽度为750px")])],1),t._v(" "),e("draggable",{staticClass:"picture-group clearfix",attrs:{element:"ul",options:t.dragOptions},on:{start:function(i){t.isDraggingpc=!0},end:t.dragend},model:{value:t.pcList,callback:function(i){t.pcList=i},expression:"pcList"}},[t._l(t.pcList,function(i,s){return e("li",{key:s,staticClass:"fl"},[e("img",{attrs:{src:t.base_url+"/img_get.php?img=1&imgname="+i,alt:"good-img"}}),t._v(" "),e("span",{staticClass:"picture-actions"},[e("span",{staticClass:"picture-preview",on:{click:function(i){t.isshowPcPicture(s)}}},[e("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),e("span",{staticClass:"picture-delete",on:{click:function(i){t.deletePcPicture(s)}}},[e("i",{staticClass:"el-icon-delete"})])])])}),t._v(" "),t.pcNumber?t._e():e("li",{staticClass:"fl"},[e("img",{attrs:{src:s("SEhC")}})])],2),t._v(" "),t._m(2)],1)]),t._v(" "),e("div",{staticClass:"pc-picture edit-item clearfix fl"},[t._m(3),t._v(" "),e("div",{staticClass:"edit-content fl"},[e("div",{staticClass:"upload-content"},[e("sl-upload",{attrs:{"img-number":t.phoneNumber},on:{"send-image":t.phoneUploadHandler}}),t._v(" "),e("span",{staticClass:"tip"},[t._v("注：宽度为750px")])],1),t._v(" "),e("draggable",{staticClass:"picture-group clearfix",attrs:{element:"ul",options:t.dragOptions},on:{start:function(i){t.isDraggingphone=!0},end:t.dragend},model:{value:t.phoneList,callback:function(i){t.phoneList=i},expression:"phoneList"}},[t._l(t.phoneList,function(i,s){return e("li",{key:s,staticClass:"fl"},[e("img",{attrs:{src:t.base_url+"/img_get.php?img=1&imgname="+i,alt:"good-img"}}),t._v(" "),e("span",{staticClass:"picture-actions"},[e("span",{staticClass:"picture-preview",on:{click:function(i){t.isshowPhonePicture(s)}}},[e("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),e("span",{staticClass:"picture-delete",on:{click:function(i){t.deletePhonePicture(s)}}},[e("i",{staticClass:"el-icon-delete"})])])])}),t._v(" "),t.phoneNumber?t._e():e("li",{staticClass:"fl"},[e("img",{attrs:{src:s("SEhC")}})])],2),t._v(" "),e("div",{staticClass:"pre-btn"},[e("span",{staticClass:"sl-btn-bd-m-blue",on:{click:t.phonePreviewClick}},[t._v("预览")])])],1)]),t._v(" "),t.showPicture?e("pre-picture",{attrs:{"img-src":t.preImg},on:{clickit:t.isclosePicture}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("h3",{staticClass:"title change-titlerr"},[i("span",{staticClass:"sl-must"},[this._v("商品介绍")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",[this._v("web端")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"pre-btn"},[i("span",{staticClass:"sl-btn-bd-m-blue"},[this._v("预览")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",[this._v("手机端")])])}]};var d=s("C7Lr")(u,_,!1,function(t){s("MnJ8")},"data-v-102c5701",null);i.default=d.exports},MnJ8:function(t,i){}});