webpackJsonp([12,50,80,85],{"6yf2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("6nXL"),n=a("6ROu"),s=a.n(n),l=a("P9l9"),r=(a("a2vD"),{data:function(){return{employeeOptions:[],fromOptions:[],AgentLevelOption:[{label:"全部",value:0},{label:i.c.toString(i.c.FIRST),value:i.c.FIRST},{label:i.c.toString(i.c.SECOND),value:i.c.SECOND},{label:i.c.toString(i.c.THREE),value:i.c.THREE}],statusSelect:"",shopName:"",agentId:"",salesman:"",from:"",begin_ctime:"",end_ctime:"",createdTime:[],agentType:"",agentName:"",agent_level:"",tableNameType:0,agentTypeOptions:[{label:"全部",value:0},{label:i.w.toString(i.w.REGION),value:i.w.REGION},{label:i.w.toString(i.w.INDUSTRY),value:i.w.INDUSTRY}]}},props:{tableName:{type:Number,default:0},employeeNames:{type:Array,default:function(){}},isClearData:{type:Boolean,default:!0}},computed:{isOfficialSearch:function(){return 1===this.isOfficial},isClearSearch:function(){return this.isClearData}},created:function(){this.isClearSearch&&(this.salesman="",this.from="",this.agentName="",this.agentId="",this.agent_level="",this.agentType="",this.begin_ctime="",this.end_ctime=""),this.tableNameType=this.tableName,this.getEmployeeOption(),this.getFromList()},methods:{getFromList:function(){var e=this;Object(l.D)({get_from_list:1,only_from:1}).then(function(t){0===t.ret?e.fromOptions=t.data.list:e.$slnotify({message:i.N.toString(t.ret)})})},getEmployeeOption:function(){var e=this;Object(l.Y)({get_pl_salesman_list:1}).then(function(t){0===t.ret?e.employeeOptions=t.data.list:e.$slnotify({message:i.N.toString(t.ret)})})},search:function(){var e={};e.employee_name=this.salesman,e.from=this.from,e.agentName=this.agentName,e.agentId=this.agentId,e.agent_level=this.agent_level,e.agentType=this.agentType,e.begin_ctime=this.begin_ctime,e.end_ctime=this.end_ctime,this.$emit("search",e)},goCreate:function(){},chooseCreatTime:function(){if(this.createdTime){var e=this.createdTime[0],t=this.createdTime[1];this.begin_ctime=parseInt(s()(e).format("X")),this.end_ctime=parseInt(s()(t).format("X"))+86400}else this.begin_ctime="",this.end_ctime=""}}}),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-content clearfix search-content-width-fix"},[a("div",{staticClass:"row-content"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"name fl clearfix search-item"},[e._m(0),e._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"代理商级别"},model:{value:e.agent_level,callback:function(t){e.agent_level=t},expression:"agent_level"}},e._l(e.AgentLevelOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item"},[e._m(1),e._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"全部"},model:{value:e.agentType,callback:function(t){e.agentType=t},expression:"agentType"}},e._l(e.agentTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item "},[a("div",{staticClass:"fl"},[a("span",{staticClass:"label-text text-right",class:{"indus-from":1===e.tableNameType}},[e._v("代理商来源")])]),e._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}},e._l(e.fromOptions,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item"},[e._m(2),e._v(" "),a("div",{staticClass:"fl"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.chooseCreatTime},model:{value:e.createdTime,callback:function(t){e.createdTime=t},expression:"createdTime"}})],1)])]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item margin-left-ten"},[e._m(3),e._v(" "),a("div",{staticClass:"fl"},[a("el-input",{attrs:{placeholder:"代理商ID"},model:{value:e.agentId,callback:function(t){e.agentId=t},expression:"agentId"}})],1)]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item margin-left-nine"},[e._m(4),e._v(" "),a("div",{staticClass:"fl"},[a("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:e.salesman,callback:function(t){e.salesman=t},expression:"salesman"}},e._l(e.employeeOptions,function(e){return a("el-option",{key:e.pl_name,attrs:{label:e.pl_name,value:e.pl_name}})}))],1)]),e._v(" "),a("div",{staticClass:"name fl clearfix search-item margin-left-nine"},[e._m(5),e._v(" "),a("div",{staticClass:"fl"},[a("el-input",{staticClass:"agent-name",attrs:{placeholder:"代理商名称"},model:{value:e.agentName,callback:function(t){e.agentName=t},expression:"agentName"}})],1)]),e._v(" "),a("div",{staticClass:"fl margin-right-hun"},[a("div",{staticClass:"search-btn  of-btn-bd-search",on:{click:e.search}},[e._v("搜索")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商级别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商类型")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("新增时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("销售人员")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("代理商名称")])])}]};var c=a("C7Lr")(r,o,!1,function(e){a("gN0J")},"data-v-e44cc3ba",null);t.default=c.exports},"7D5F":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),n=a.n(i),s=a("P9l9"),l=a("9rMa"),r=a("6nXL"),o=a("aFBZ"),c=a("6yf2"),h=a("oTS6"),u=a("Zzf2"),g=a("p0I3"),m=a("mqg/"),f=a("IvJb"),d={components:{agentSearch:c.default,agentTable:h.default,editDialog:u.default,ZTree:g.a},data:function(){return{isSort:!1,sortLabel:"",sortOrder:1,agent_type:"",agent_level:"",agent_name:"",begin_time:"",end_time:"",agent_id:"",from:"",real_name:"",isClearData:!1,tableHeight:0,areaTree:[],defaultProps:{children:"children",label:"label"},isSelect:!0,isHighlight:!0,provinces:"",city:"",area:"",treeDataNew:[],treeDataById:null,tableList:[],total:10,listQuery:{page:1,limit:10},isShowEditDialog:!1,detailInfo:{}}},created:function(){this.treeInfoMethods(),this.getTableList()},computed:n()({},Object(l.d)({ACS:function(e){return e.perimission.sysPermis},PL_K:function(e){return e.perimission.PL_K}})),methods:{treeInfoMethods:function(){var e=o.a.getPlateProvincesArr(),t=m.a.addTitleToTree(e,"代理区域");f.default.set(this.treeDataNew,0,t),m.a.generateKey(this.treeDataNew,0),m.a.initTreeData(this.treeDataNew),this.treeDataByIds(),m.a.changeSelecte("0-0",this.treeDataById)},search:function(e){this.ACS[this.PL_K.AGENT_EDIT]?(this.agent_level=e.agent_level,this.agent_id=e.agentId,this.agent_type=e.agentType,this.begin_time=e.begin_ctime,this.end_time=e.end_ctime,this.real_name=e.employee_name,this.from=e.from,this.agent_name=e.agentName,this.listQuery.page=1,this.isClearData=!1,this.getTableList()):this.$slnotify({message:"操作权限不足"})},clearSearchData:function(){this.agent_level="",this.agent_id="",this.agent_type="",this.begin_time="",this.end_time="",this.real_name="",this.from="",this.agent_name="",this.isClearData=!0},getTableList:function(){var e=this,t={agent_list:1,business_status:2,page_size:this.listQuery.limit,page_no:this.listQuery.page};this.provinces&&(t.agent_province=this.provinces),this.city&&this.provinces&&(t.agent_city=this.city),this.area&&this.city&&this.provinces&&(t.agent_area=this.area),""!==this.agent_type&&(t.agent_type=this.agent_type),""!==this.agent_level&&(t.agent_level=this.agent_level),this.agent_name&&(t.agent_name=this.agent_name),this.begin_time&&(t.begin_time=this.begin_time),this.end_time&&(t.end_time=this.end_time),this.agent_id&&(t.agent_id=this.agent_id),this.from&&(t.from=this.from),this.real_name&&(t.real_name=this.real_name),this.isSort&&(t.sort_name=this.sortLabel,t.desc=this.sortOrder),Object(s.n)(t).then(function(t){if(0===t.ret)e.tableList=t.data.list,e.listQuery.page>1&&0===e.tableLists.length&&(e.listQuery.page--,e.getTableList()),e.total=t.data.total;else{if(-20011===t.ret)return;e.$slnotify({message:r.N.toString(t.ret)})}})},sort:function(e){this.sortLabel=e.prop,"descending"===e.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===e.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getTableList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getTableList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getTableList()},handleModifyStatus:function(e){var t=this;if(this.ACS[this.PL_K.AGENT_FREEZE]){var a={agent_freeze:1,agent_id:e.data.agent_id,is_freeze:e.status};Object(s.o)(a).then(function(a){0===a.ret?t.$freezenotify({message:"已成功"+r.b.toString(e.status)+" !"}):t.$slnotify({message:r.N.toString(a.ret)})}),this.getTableList()}else this.$slnotify({message:"操作权限不足"})},openEditDialog:function(e){var t=this;if(this.ACS[this.PL_K.AGENT_EDIT]){this.isShowEditDialog=!0;var a={agent_info:1,agent_id:e.agent_id};Object(s.n)(a).then(function(e){0===e.ret?(t.detailInfo=e.data.agent_info,t.detailInfo.agent_type_text=r.w.toString(t.detailInfo.agent_type),t.detailInfo.agent_level_text=r.c.toString(t.detailInfo.agent_level),t.detailInfo.from&&(t.detailInfo.from=t.detailInfo.from)):t.$slnotify({message:r.N.toString(e.ret)})})}else this.$slnotify({message:"操作权限不足"})},handleSure:function(e){var t=this;this.isShowEditDialog=!1,Object(s.o)(e).then(function(e){0===e.ret?t.getTableList():t.$slnotify({message:r.N.toString(e.ret)})})},handleClose:function(){this.isShowEditDialog=!1},goCreatAgentOfficial:function(){this.ACS[this.PL_K.PL_NEW_AGENT]?this.$router.push({path:"/officialmanage/creatagent",query:{upPath:this.$route.path}}):this.$slnotify({message:"操作权限不足"})},goToAgentDetail:function(e){this.ACS[this.PL_K.PL_AGENT_INFO]?this.$router.push({path:"/officialmanage/agentdetail",query:{agent_id:e.agent_id}}):this.$slnotify({message:"操作权限不足"})},resetChecked:function(){this.isSelect=!0,this.isHighlight=!1,this.area="",this.city="",this.provinces="",this.getTableList()},treeDataByIds:function(){this.treeDataById=m.a.treeDataById(this.treeDataNew)},selectNodeActive:function(e){var t=e.key;m.a.changeSelecte(t,this.treeDataById),e.isThree?this.provinces="":this.provinces=e.label,this.area="",this.city="",this.getTableList()},currentChange:function(e,t){this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.getTableList()},nodeExpand:function(e,t){var a=t.key;this.$refs.tree.setCurrentKey(a),this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.getTableList()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agent-list-official"},[e._m(0),e._v(" "),a("div",[a("div",{staticClass:"merchant-tree staff-tree"},[e._m(1),e._v(" "),a("z-tree",{ref:"tree",attrs:{treeData:e.treeDataNew},on:{"node-click":e.selectNodeActive}})],1),e._v(" "),a("div",{staticClass:"merchant-list"},[a("div",{staticClass:"official-title-bar official-title-width"},[a("span",[e._v("列表详情")]),e._v(" "),a("span",{staticClass:"rank-btn-add fr btn-text-blue",on:{click:e.goCreatAgentOfficial}},[a("span",{staticClass:"add-btn-blue add-agent"}),e._v(" "),a("span",{staticClass:"add-agent"},[e._v(" 新增代理商")])])]),e._v(" "),a("agent-search",{attrs:{clearData:e.isClearData},on:{search:e.search}}),e._v(" "),a("div",{staticClass:"table-content change-default-table change-default"},[a("agent-table",{staticClass:"agent-table-box",attrs:{tableList:e.tableList,total:e.total},on:{sort:e.sort,handleModifyStatus:e.handleModifyStatus,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange,openEditDialog:e.openEditDialog,goToAgentDetail:e.goToAgentDetail}})],1)],1),e._v(" "),e.isShowEditDialog?a("edit-dialog",{attrs:{detailInfo:e.detailInfo},on:{handleSure:e.handleSure,handleClose:e.handleClose}}):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav-own-bar"},[t("span",{staticClass:"cant-click-nav"},[this._v("代理商管理")]),this._v("\n    >\n    "),t("span",{staticClass:"current-nav"},[this._v("代理商列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"change-titlerr rank-title"},[t("span",[this._v("代理区域")])])}]};var _=a("C7Lr")(d,p,!1,function(e){a("FgaO")},"data-v-78cc11ec",null);t.default=_.exports},D41X:function(e,t){},FgaO:function(e,t){},Zzf2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("aQu3"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"agent-edit-dialog"}},[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"1024px",top:e.boxTop,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"head-nav"},[a("span",[e._v("编辑代理商")])]),e._v(" "),a("div",{staticClass:"agent-form"},[a("el-form",{ref:"basicInfoFormr",staticClass:"demo-ruleForm float-left",attrs:{"label-width":"103px",model:e.agentForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"代理商类型",prop:"agent_type"}},[a("span",[e._v(e._s(e.agentForm.agent_type_text))])]),e._v(" "),a("el-form-item",{attrs:{label:"代理商级别",prop:"agent_level"}},[a("span",[e._v(e._s(e.agentForm.agent_level_text))])]),e._v(" "),a("el-form-item",{attrs:{label:"代理商名称",prop:"agent_name"}},[a("el-input",{attrs:{placeholder:"请输入代理商名称"},on:{input:function(t){e.checkFinishInput("basicInfoFormr")}},model:{value:e.agentForm.agent_name,callback:function(t){e.$set(e.agentForm,"agent_name",t)},expression:"agentForm.agent_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"relation_name"}},[a("el-input",{attrs:{placeholder:"请输入联系人姓名"},on:{input:function(t){e.checkFinishInput("basicInfoFormr")}},model:{value:e.agentForm.relation_name,callback:function(t){e.$set(e.agentForm,"relation_name",t)},expression:"agentForm.relation_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},on:{input:function(t){e.checkFinishInput("basicInfoFormr")}},model:{value:e.agentForm.telephone,callback:function(t){e.$set(e.agentForm,"telephone",t)},expression:"agentForm.telephone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入电子邮箱"},on:{input:function(t){e.checkFinishInput("basicInfoFormr")}},model:{value:e.agentForm.email,callback:function(t){e.$set(e.agentForm,"email",t)},expression:"agentForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商状态",prop:"is_freeze"}},[a("el-radio-group",{on:{change:function(t){e.checkFinishInput("basicInfoFormr")}},model:{value:e.agentForm.is_freeze,callback:function(t){e.$set(e.agentForm,"is_freeze",t)},expression:"agentForm.is_freeze"}},e._l(e.statusOptions,function(t){return a("el-radio-button",{key:t.idx,attrs:{label:t.idx,value:t.idx}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商来源",prop:"from"}},[a("el-select",{attrs:{placeholder:"全部"},on:{change:function(t){e.checkFinishInputf("basicInfoFormr")}},model:{value:e.agentForm.from,callback:function(t){e.$set(e.agentForm,"from",t)},expression:"agentForm.from"}},e._l(e.fromOptions,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-form",{ref:"basicInfoForm",staticClass:"demo-ruleForm float-left",attrs:{"label-width":"100px",model:e.agentForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},on:{input:function(t){e.checkFinishInput("basicInfoForm")}},model:{value:e.agentForm.address,callback:function(t){e.$set(e.agentForm,"address",t)},expression:"agentForm.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"logo-item",attrs:{label:"店铺Logo",prop:"agent_logo"}},[a("div",{staticClass:"certi-upload"},[a("Preview-Img",{staticClass:"fl certi-upload_right",attrs:{width:"309px",height:"217px",imgSrc:e.agentForm.agent_logo}}),e._v(" "),a("img-upload",{staticClass:"certi-upload-btn",class:{"upload-agin":e.BtnText.length>3},attrs:{FreedomCrop:!1,isOfficial:e.isOfficial,isTextBtn:e.isTextBtn,BtnText:e.BtnText},on:{"send-image":e.getPhoto}}),e._v(" "),e.agentForm.agent_logo?e._e():a("div",{staticClass:"upload-img-text"},[a("span",{staticClass:"unload-title"},[e._v("添加图片")]),e._v(" "),a("div",{staticClass:"upload-text"},[e._v("支持JPG、JPEG、PNG文件格式")])])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"销售人员",prop:"real_name"}},[a("el-select",{attrs:{placeholder:"请选择销售人员"},model:{value:e.agentForm.real_name,callback:function(t){e.$set(e.agentForm,"real_name",t)},expression:"agentForm.real_name"}},e._l(e.employeeOptions,function(e){return a("el-option",{key:e.pl_name,attrs:{label:e.pl_name,value:e.pl_name}})}))],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"btn-Dialogcancel of-btn-bd-b-blue  btn-Dialogok",on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),a("div",{staticClass:"save-m-gradient btn-Dialogok",on:{click:e.handleSure}},[e._v("保存")])])])],1)},staticRenderFns:[]};var s=function(e){a("gvY2"),a("D41X")},l=a("C7Lr")(i.a,n,!1,s,null,null);t.default=l.exports},aQu3:function(e,t,a){"use strict";(function(e){var i=a("a3Yh"),n=a.n(i),s=a("P9l9"),l=a("9aGi"),r=(a("a2vD"),a("EU70")),o=a("GAg9"),c=a("N6PA"),h=a("EuEE"),u=a("6nXL");t.a={data:function(){var e,t=this;return{boxTop:"15vh",dialogVisible:!0,submitData:{},isCantClick:!1,employeeOptions:[],rules:(e={telephone:[{required:!0,validator:function(e,a,i){var n=c.b.isLandLinePhone(a);return""===t.agentForm.telephone?i(new Error("请输入电话号码")):n?void i():i(new Error("请输入合法的电话号码"))},trigger:"input,blur"}],email:[{required:!0,validator:function(e,t,a){var i=c.b.isEmail(t);""===t?a(new Error("请输入邮箱地址")):i?a():a(new Error("请输入正确的邮箱格式"))},trigger:"input,blur"}],real_name:[{required:!0,message:"请选择销售人员",trigger:"change,blur"}],agent_name:[{required:!0,message:"请输入代理商名称",trigger:"input,blur"}]},n()(e,"real_name",[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入联系人")):!1===/^[^ ]+$/.test(t)?a(new Error("联系人不能包含空格符")):a()},trigger:"input,blur"}]),n()(e,"address",[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入地址")):!1===/^[^ ]+$/.test(t)?a(new Error("地址不能包含空格符")):a()},trigger:"input,blur"}]),n()(e,"from",[{required:!0,message:"请选择代理商来源",trigger:"change,blur"}]),n()(e,"is_freeze",[{required:!0,message:"请选择代理商状态",trigger:"change,blur"}]),e),fromOptions:[],statusOptions:[{label:u.v.toString(u.v.NO),idx:u.v.NO},{label:u.v.toString(u.v.YES),idx:u.v.YES}]}},props:{detailInfo:{type:Object,required:!0,default:function(){}}},computed:{agentForm:function(){return this.detailInfo},BtnText:function(){return""!==this.agentForm.agent_logo&&null!==this.agentForm.agent_logo?"重新上传":""},isOfficial:function(){return""!==this.agentForm.agent_logo&&null!==this.agentForm.agent_logo?0:1},isTextBtn:function(){return""!==this.agentForm.agent_logo&&null!==this.agentForm.agent_logo?1:0}},components:{citySelect:l.a,PreviewImg:r.a,ImgUpload:o.a},created:function(){this.getFromList(),this.getEmployeeOption()},mounted:function(){var t=this,a=document.documentElement.clientWidth;document.documentElement.clientHeight;this.boxTop=h.a.changeDialogTop("15vh","10vh","1vh",a),e(window).resize(function(){a=document.documentElement.clientWidth,t.boxTop=h.a.changeDialogTop("15vh","10vh","1vh",a)})},methods:{getEmployeeOption:function(){var e=this;Object(s.Y)({get_pl_salesman_list:1}).then(function(t){0===t.ret?e.employeeOptions=t.data.list:e.$slnotify({message:u.N.toString(t.ret)})})},getFromList:function(){var e=this;Object(s.D)({get_from_list:1,only_from:1}).then(function(t){0===t.ret?e.fromOptions=t.data.list:e.$slnotify({message:u.N.toString(t.ret)})})},handleSure:function(){this.isCantClick?this.$slnotify({message:"请填写完整信息"}):(this.dialogVisible=!1,this.isCanClick(this.agentForm),this.$refs.basicInfoFormr.resetFields(),this.$refs.basicInfoForm.resetFields())},handleClose:function(e){this.dialogVisible=!1,this.$refs.basicInfoFormr.resetFields(),this.$refs.basicInfoForm.resetFields(),this.$emit("handleClose")},isCanClick:function(e){this.isCantClick=!1;var t={agent_save:1,agent_id:e.agent_id,agent_name:e.agent_name,telephone:e.telephone,employee_name:this.agentForm.real_name,email:e.email,address:e.address,is_freeze:e.is_freeze,from:e.from_id,agent_logo:e.agent_logo,real_name:e.relation_name};this.submitData=t,console.log(t),this.$emit("handleSure",this.submitData)},istCanClick:function(){this.isCantClick=!0},getPhoto:function(e){this.agentForm.agent_logo=e,this.checkFinishInput("basicInfoForm"),this.checkFinishInput("basicInfoFormr")},checkFinishInput:function(e){var t=this;this.agentForm.email&&this.agentForm.address&&this.agentForm.telephone&&this.agentForm.agent_name&&this.agentForm.from&&this.agentForm.real_name&&""!==this.agentForm.is_freeze?this.$refs[e].validate(function(e){if(!e)return t.isCantClick=!0,!1;t.isCantClick=!1}):this.isCantClick=!0},checkFinishInputf:function(){this.agentForm.from_id=this.agentForm.from}}}}).call(t,a("L7Pj"))},aujD:function(e,t,a){"use strict";(function(e){var i=a("6ROu"),n=a.n(i),s=(a("EuEE"),a("r2UX")),l=a("6nXL");t.a={data:function(){return{emptyType:1,tableHeight:0,isSort:!1,sortLabel:"",sortOrder:1,listQuery:{page:1,limit:10},searchNone:!1}},props:{tableList:{type:Array,default:function(){}},total:{type:Number,default:10}},components:{EmptyTable:s.a},computed:{data:function(){return this.tableList&&this.tableList.length>0&&this.tableList.map(function(e){return e.form_txt=l.x.toString(e.from),e.agent_type_text=l.w.toString(e.agent_type),e.agent_level_text=l.c.toString(e.agent_level),e.ctime?e.ctime=n()(1e3*e.ctime).format("YYYY.MM.DD"):e.ctime="--",e.is_freeze=e.is_freeze||l.b.NO,e.is_freeze_str=l.b.toString(e.is_freeze),e.address_str=e.agent_province+e.agent_city+e.agent_area+e.address,e}),this.tableList},isNoFreezed:function(){return l.v.NO},totalData:function(){return this.total}},created:function(){var t=this;this.tableHeight=document.documentElement.clientHeight-410+"px",e(window).resize(function(){t.tableHeight=document.documentElement.clientHeight-410+"px"})},mounted:function(){this.$refs.agentTableofficial.$refs.bodyWrapper.style.minHeight="399px"},methods:{sort:function(e){this.$emit("sort",e)},edit:function(e){this.$emit("openEditDialog",e)},handleModifyStatus:function(e,t){var a={};a.data=e,a.status=t,this.$emit("handleModifyStatus",a)},clickAgentName:function(e){this.$emit("goToAgentDetail",e)},handleSizeChange:function(e){this.listQuery.limit=e,this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.listQuery.page=e,this.$emit("handleCurrentChange",e)}}}}).call(t,a("L7Pj"))},gN0J:function(e,t){},gvY2:function(e,t){},oTS6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("aujD"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agent-table-official"},[a("div",{staticClass:"agent-table-content"},[a("el-table",{ref:"agentTableofficial",attrs:{data:e.data,stripe:"","default-sort":{prop:"ctime",order:"descending"}},on:{"sort-change":e.sort}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ctime",label:"新增时间","min-width":"80",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ctime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_id",label:"ID","min-width":"50",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_id?a("span",[e._v(e._s(t.row.agent_id))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_type",label:"类型","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_type?a("span",{staticClass:"shop-name"},[e._v(e._s(t.row.agent_type_text))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_level",label:"级别","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_level?a("span",{staticClass:"shop-name"},[e._v(e._s(t.row.agent_level_text))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_name",label:"代理商名称","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_name?a("span",{staticClass:"agent-name",on:{click:function(a){e.clickAgentName(t.row)}}},[e._v(e._s(t.row.agent_name))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"120",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.address_str?a("span",[e._v(e._s(t.row.address_str))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"销售人员","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.real_name?a("span",[e._v(e._s(t.row.real_name))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"from",label:"来源","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.from?a("span",[e._v(e._s(t.row.from))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_freeze_str",label:"状态","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.is_freeze_str))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shop_num",label:"商户数","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.shop_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"btn-oprate-blue table-btn",attrs:{type:"text"},on:{click:function(a){e.edit(t.row)}}},[e._v("编辑\n        ")]),e._v(" "),t.row.is_freeze===e.isNoFreezed?a("span",{staticClass:"text-btn  btn-oprate-red",attrs:{size:"small",type:"info"},on:{click:function(a){e.handleModifyStatus(t.row,1)}}},[e._v("冻结\n        ")]):a("span",{staticClass:"text-btn btn-oprate-green",attrs:{size:"small",type:"success"},on:{click:function(a){e.handleModifyStatus(t.row,0)}}},[e._v("启用\n        ")])]}}])})],1),e._v(" "),e.data&&0!==e.data.length?e._e():a("empty-table",{attrs:{type:e.emptyType}})],1),e._v(" "),a("div",{staticClass:"page"},[a("div",{staticClass:" pagination-content change-pagination-default"},[a("el-pagination",{staticClass:"page-el",attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,40],"page-size":e.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:e.totalData},on:{"update:currentPage":function(t){e.$set(e.listQuery,"page",t)},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])])},staticRenderFns:[]};var s=function(e){a("uTsM")},l=a("C7Lr")(i.a,n,!1,s,"data-v-5a5c321a",null);t.default=l.exports},uTsM:function(e,t){}});