webpackJsonp([104],{MVxi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("EuEE");var i=s("P9l9"),a=s("6ROu"),n=s.n(a),l=s("r2UX"),r=s("6nXL"),o={components:{EmptyTable:l.a},data:function(){return{forever:"永久",emptyType:1,account:"",merchantName:"",shopName:"",resourcesId:"",loginTime:[],login_begin_time:"",login_end_time:"",total:10,listQuery:{page:1,limit:10},tableData:[]}},created:function(){this.getList()},mounted:function(){this.$refs.resourcesTable.$refs.bodyWrapper.style.minHeight="473px"},computed:{isListEmpty:function(){return 0===this.tableData.length}},methods:{getList:function(){var t=this,e={resources_list:1,page_size:this.listQuery.limit,page_no:this.listQuery.page};this.shopName&&(e.shop_name=this.shopName),this.resourcesId&&(e.resources_id=this.resourcesId),this.login_begin_time&&(e.login_begin_time=this.login_begin_time),this.login_end_time&&(e.login_end_time=this.login_end_time),Object(i._2)(e).then(function(e){0===e.ret?(t.tableData=e.data.list,t.total=e.data.total,t.listQuery.page>1&&0===t.tableData.length&&(t.listQuery.page--,t.getList()),t.tableData.map(function(e){e.last_use_time?e.login_time=n()(1e3*e.last_use_time).format("YYYY.MM.DD HH:mm"):e.login_time="--",e.resources_type?e.resources_type_txt=r.L.toString(e.resources_type):e.resources_type_txt="--",e.over_time&&e.over_time==t.forever?e.time_long=e.over_time:e.time_long||(e.time_long="--"),e.over_time||(e.over_time="--")})):t.$slnotify({message:r.N.toString(e.ret)})})},search:function(){this.listQuery.page=1,this.getList()},chooseCreatTime:function(){if(this.loginTime){var t=this.loginTime[0],e=this.loginTime[1];this.login_begin_time=parseInt(n()(t).format("X")),this.login_end_time=parseInt(n()(e).format("X"))+86400}else this.login_begin_time="",this.login_end_time=""},handleSizeChange:function(t){this.listQuery.page=1,this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"resources-set"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"resources-content"},[s("div",{staticClass:"search-content clearfix search-content-width-fix",attrs:{id:"search-official"}},[s("div",{staticClass:"row-content"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[t._m(2),t._v(" "),s("div",{staticClass:"fl"},[s("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1)]),t._v(" "),s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[t._m(3),t._v(" "),s("div",{staticClass:"fl"},[s("el-input",{attrs:{placeholder:"请输入授权ID"},model:{value:t.resourcesId,callback:function(e){t.resourcesId=e},expression:"resourcesId"}})],1)]),t._v(" "),s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[t._m(4),t._v(" "),s("div",{staticClass:"fl"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.chooseCreatTime},model:{value:t.loginTime,callback:function(e){t.loginTime=e},expression:"loginTime"}})],1)]),t._v(" "),s("div",{staticClass:"search-btn  of-btn-bd-search fl",on:{click:t.search}},[t._v("\n            搜索\n          ")])])])]),t._v(" "),s("div",{staticClass:"terminal-table change-default"},[s("el-table",{ref:"resourcesTable",attrs:{data:t.tableData,stripe:""}},[s("el-table-column",{attrs:{label:"授权ID","min-width":"30",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.resources_id)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"终端名称","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.resources_type_txt)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"授权总时间","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.time_long)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"剩余时间","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.over_time)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"登录时间","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.login_time)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"登录店铺","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.shop_name)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"所属商户","min-width":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.shop_name)+"\n            ")])]}}])})],1),t._v(" "),s("div",{staticClass:"page"},[s("div",{staticClass:"pagination-content change-pagination-default"},[s("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.$set(t.listQuery,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1),t._v(" "),t.isListEmpty?s("empty-table",{attrs:{type:t.emptyType}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-own-bar"},[e("span",{staticClass:"cant-click-nav"},[this._v("系统管理")]),this._v("\n    >\n    "),e("span",{staticClass:"current-nav"},[this._v("授权管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"official-title-bar"},[e("span",[this._v("授权列表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("店铺名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("授权ID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("span",{staticClass:"label-text"},[this._v("登录时间")])])}]};var u=s("C7Lr")(o,c,!1,function(t){s("c364")},"data-v-58b54b1c",null);e.default=u.exports},c364:function(t,e){}});