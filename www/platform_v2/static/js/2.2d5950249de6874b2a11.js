webpackJsonp([2,27,47,57,67,105],{"+Wb5":function(t,e){},"0krA":function(t,e){},"1sqV":function(t,e,i){"use strict";(function(t){var s=i("P9l9"),a=i("a2vD"),n=(i("6nXL"),i("EuEE")),l=i("r2UX"),o=i("6ROu"),c=i.n(o);e.a={components:{EmptyTable:l.a},data:function(){return{sendTime:null,selectCompany:"",companyOption:[],list:[],emptyType:1,multipleSelection:[],total:100,listQuery:{page:1,limit:10},isSort:!1,sortLabel:"",sortOrder:1,pickerOptions:a.c}},computed:{isListEmpty:function(){return 0===this.list.length}},created:function(){this.getList(),this.getCategoryList()},mounted:function(){var e=this.$refs.billFreghtListTableAdjust.$refs.bodyWrapper;this.$nextTick(function(){n.a.AdjustMinHeight(e)}),t(window).resize(function(){n.a.AdjustMinHeight(e)})},methods:{getList:function(){var t=this,e={get_order_list:1,page_size:this.listQuery.limit,page_no:this.listQuery.page,order_status_list:[3,4,5]};if(this.sendTime){var i=this.sendTime[0],a=this.sendTime[1];e.deliver_begin_time=parseInt(c()(i).format("X")),e.deliver_end_time=parseInt(c()(a).format("X"))}this.selectCompany&&(e.express_company_id=this.selectCompany),this.isSort&&(e.sortby=this.sortLabel,e.sort=this.sortOrder),Object(s.K)(e).then(function(e){0===e.ret&&(t.list=e.data.list||[],t.total=e.data.total,t.list=t.list.map(function(t){return t.deliver_time&&(t.deliver_time_str=c()(1e3*t.deliver_time).format("YYYY-MM-DD HH:mm:ss")),t}))})},search:function(){this.emptyType=2,this.listQuery.page=1,this.getList()},sort:function(t){this.sortLabel=t.prop,"descending"===t.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===t.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},goOrderInfo:function(t){this.$router.push({path:"/officialmanage/orderdetail",query:{orderid:t}})},getCategoryList:function(){var t=this;Object(s.z)({express_company_list:1}).then(function(e){if(0===e.ret){t.companyOption=e.data.list||[];t.companyOption.unshift({express_company_id:"",express_company_name:"全部"})}})}}}}).call(e,i("L7Pj"))},"41AK":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("M68H"),a=i("47rU"),n=i("ZTYR"),l=i("rFqa"),o=i("PR51"),c={components:{GeneralFreght:s.default,CityFreght:a.default,SendAddress:n.default,BillFreght:l.default,TreeCompany:o.default},data:function(){return{activeName:"1",showGeneral:!0,showCity:!1,showDefaultAddress:!1,showBill:!1}},methods:{clickHandler:function(){},initDisplay:function(){this.showGeneral=!1,this.showCity=!1,this.showDefaultAddress=!1,this.showBill=!1}},watch:{activeName:function(t){switch(this.initDisplay(),t){case"1":this.showGeneral=!0;break;case"2":this.showCity=!0;break;case"3":this.showDefaultAddress=!0;break;case"4":this.showBill=!0}}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"goods-manage-express"}},[i("div",{staticClass:"nav-menu"},[i("el-tabs",{on:{"tab-click":t.clickHandler},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"通用",name:"1"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"指定城市",name:"2"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"发货信息",name:"3"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"运费对账",name:"4"}})],1)],1),t._v(" "),i("div",{staticClass:"content-bottom"},[i("div",{staticClass:"ep-company-editor"},[i("tree-company")],1),t._v(" "),i("div",{staticClass:"bg"}),t._v(" "),i("div",{staticClass:"ep-main-content"},[t.showGeneral?i("general-freght"):t._e(),t._v(" "),t.showCity?i("city-freght"):t._e(),t._v(" "),t.showDefaultAddress?i("send-address"):t._e(),t._v(" "),t.showBill?i("bill-freght"):t._e()],1)])])},staticRenderFns:[]};var d=i("C7Lr")(c,r,!1,function(t){i("t0I4"),i("wNW2")},"data-v-d5ccaec6",null);e.default=d.exports},"47rU":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("g4GM"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"adjustHeight",staticClass:"city-freght",attrs:{id:"ep-city-freght"}},[s("div",{staticClass:"table-content change-default-table change-default"},[s("el-table",{ref:"epcityfreghTableAdjust",attrs:{data:t.list,stripe:""},on:{"sort-change":t.sort}},[s("el-table-column",{attrs:{prop:"num_no",label:"序号",width:"55",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"address",label:"收货地","min-width":"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",[t._v(t._s(e.row.province)+t._s(e.row.city))]),t._v(" "),e.row.isEdit?s("span",{staticClass:"sl-must"}):t._e(),t._v(" "),e.row.isEdit?s("provice-city",{staticClass:"ep-city-select",attrs:{cityinfo:e.row.cityinfo},on:{changeProvinces:function(i){t.handlerCitySelect(e.row,i)}}}):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"first_weight",label:"首重（KG）","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",{staticClass:"line-test"},[t._v(t._s(e.row.first_weight))]),t._v(" "),e.row.isEdit?s("span",{staticClass:"sl-must"}):t._e(),t._v(" "),e.row.isEdit?s("el-input",{staticClass:"freght",nativeOn:{keyup:function(i){t.checkInput(e.row,"first_weight")}},model:{value:e.row.first_weight,callback:function(i){t.$set(e.row,"first_weight",i)},expression:"scope.row.first_weight"}}):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"first_fee",label:"首费（元）","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",{staticClass:"line-test"},[t._v(t._s(e.row.first_fee))]),t._v(" "),e.row.isEdit?s("span",{staticClass:"sl-must"}):t._e(),t._v(" "),e.row.isEdit?s("el-input",{staticClass:"freght",nativeOn:{keyup:function(i){t.checkInput(e.row,"first_fee")}},model:{value:e.row.first_fee,callback:function(i){t.$set(e.row,"first_fee",i)},expression:"scope.row.first_fee"}}):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"add_weight",label:"续重（KG）","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",{staticClass:"line-test"},[t._v(t._s(e.row.add_weight))]),t._v(" "),e.row.isEdit?s("span",{staticClass:"sl-must"}):t._e(),t._v(" "),e.row.isEdit?s("el-input",{staticClass:"freght",nativeOn:{keyup:function(i){t.checkInput(e.row,"add_weight")}},model:{value:e.row.add_weight,callback:function(i){t.$set(e.row,"add_weight",i)},expression:"scope.row.add_weight"}}):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"add_fee",label:"续费（元）","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",{staticClass:"line-test"},[t._v(t._s(e.row.add_fee))]),t._v(" "),e.row.isEdit?s("span",{staticClass:"sl-must"}):t._e(),t._v(" "),e.row.isEdit?s("el-input",{staticClass:"freght",nativeOn:{keyup:function(i){t.checkInput(e.row,"add_fee")}},model:{value:e.row.add_fee,callback:function(i){t.$set(e.row,"add_fee",i)},expression:"scope.row.add_fee"}}):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"goods_id",label:"操作","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?t._e():s("span",{staticClass:"blue-text",staticStyle:{"margin-right":"10px"},on:{click:function(i){t.editClickHandler(e.row)}}},[t._v("编辑")]),t._v(" "),e.row.isEdit?t._e():s("span",{staticClass:"blue-text",on:{click:function(i){t.deleteClickHandler(e.row,e.$index)}}},[t._v("删除")]),t._v(" "),e.row.isEdit?s("span",{staticClass:"blue-text",staticStyle:{"margin-right":"10px"},on:{click:function(i){t.saveClickHandler(e.row,e.$index)}}},[t._v("完成")]):t._e(),t._v(" "),e.row.isEdit?s("span",{staticClass:"blue-text",on:{click:function(i){t.cancelClickHandler(e.row,e.$index)}}},[t._v("取消")]):t._e()]}}])})],1)],1),t._v(" "),s("div",{staticClass:"add-btn flex-box cross-center",on:{click:t.addClickHandler}},[s("img",{attrs:{src:i("Rs2e")}}),t._v(" "),s("span",[t._v("添加")])]),t._v(" "),s("el-dialog",{staticClass:"dialog-custom-b nopadding",attrs:{visible:t.singleDelete,"show-close":!1,"before-close":t.singleDialogDeleteCancel,width:"540px",top:"30vh"},on:{"update:visible":function(e){t.singleDelete=e}}},[s("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"}),t._v(" "),s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"delete-tip"},[s("div",{staticClass:"delete-img"},[s("img",{attrs:{src:i("RrKl"),alt:"提示图片"}})]),t._v(" "),s("div",{staticClass:"delete-text"},[t._v("确认删除选中该城市？")])]),t._v(" "),s("div",{staticClass:"button-group"},[s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.singleDialogDelete}},[t._v("确定")]),t._v(" "),s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.singleDialogDeleteCancel}},[t._v("取消")])])])])],1)},staticRenderFns:[]};var n=function(t){i("t4ul"),i("ccm3")},l=i("C7Lr")(s.a,a,!1,n,"data-v-c54ca1b4",null);e.default=l.exports},CYhw:function(t,e){},F1VY:function(t,e){},M68H:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("EuEE"),a=i("6nXL"),n=i("P9l9"),l={data:function(){return{firstWeight:"0",firstFee:"0",addWeight:"0",addFee:"0",isShowEdit:!1}},created:function(){this.getData()},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.adjustHeight;s.a.AdjustHeight(e)})},methods:{getData:function(){var t=this;Object(n.W)({get_platform_info:1}).then(function(e){if(0===e.ret){var i=e.data.info;t.firstWeight=i.first_weight||0,t.firstFee=i.first_fee||0,t.addWeight=i.add_weight||0,t.addFee=i.add_fee||0}else t.$slnotify(a.N.toString(e.ret))})},handlerclick:function(){this.isShowEdit=!0},handlerCancel:function(){this.isShowEdit=!1},handlerSave:function(){var t=this,e={freight_save:1,first_fee:this.firstFee,add_fee:this.addFee,first_weight:this.firstWeight,add_weight:this.addWeight};Object(n.X)(e).then(function(e){0===e.ret?(t.$slnotify({message:"保存成功！"}),setTimeout(function(){t.isShowEdit=!1},1500)):t.$slnotify(a.N.toString(e.ret))})},checkInput:function(t){this[t]=s.a.clearNoNum(this[t])}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"adjustHeight",staticClass:"general-freght",attrs:{id:"express-general-fre"}},[t.isShowEdit?t._e():i("p",{staticClass:"display"},[t._v("默认"+t._s(t.firstWeight)+"KG内，"+t._s(t.firstFee)+"元；每增加"+t._s(t.addWeight)+"KG，则追加"+t._s(t.addFee)+"元")]),t._v(" "),t.isShowEdit?t._e():i("div",{staticClass:"sl-btn-bd-b-blue edit-btn",on:{click:t.handlerclick}},[t._v("编辑")]),t._v(" "),t.isShowEdit?i("p",{staticClass:"edit first"},[i("span",{staticClass:"sl-must"},[t._v("默认")]),t._v(" "),i("el-input",{nativeOn:{keyup:function(e){t.checkInput("firstWeight")}},model:{value:t.firstWeight,callback:function(e){t.firstWeight=e},expression:"firstWeight"}}),t._v(" "),i("span",[t._v("KG内")]),t._v(" "),i("el-input",{nativeOn:{keyup:function(e){t.checkInput("firstFee")}},model:{value:t.firstFee,callback:function(e){t.firstFee=e},expression:"firstFee"}}),t._v(" "),i("span",[t._v("元")])],1):t._e(),t._v(" "),t.isShowEdit?i("p",{staticClass:"edit second"},[i("span",{staticClass:"sl-must"},[t._v("每增加")]),t._v(" "),i("el-input",{nativeOn:{keyup:function(e){t.checkInput("addWeight")}},model:{value:t.addWeight,callback:function(e){t.addWeight=e},expression:"addWeight"}}),t._v(" "),i("span",[t._v("KG内      则追加")]),t._v(" "),i("el-input",{nativeOn:{keyup:function(e){t.checkInput("addFee")}},model:{value:t.addFee,callback:function(e){t.addFee=e},expression:"addFee"}}),t._v(" "),i("span",[t._v("元")])],1):t._e(),t._v(" "),t.isShowEdit?i("div",{staticClass:"btn-group"},[i("div",{staticClass:"sl-btn-bd-b-blue save-btn",on:{click:t.handlerSave}},[t._v("保存")]),t._v(" "),i("div",{staticClass:"sl-btn-bd-b-blue cancel-btn",on:{click:t.handlerCancel}},[t._v("取消")])]):t._e()])},staticRenderFns:[]};var c=i("C7Lr")(l,o,!1,function(t){i("qaAk"),i("ul3q")},"data-v-c5f268d0",null);e.default=c.exports},PR51:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("hWzV"),a=i("obFi"),n=i("P9l9"),l=i("6nXL"),o=i("EuEE"),c=i("IvJb"),r={initTreeData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.map(function(e){return c.default.set(e,"addIcon",!0),c.default.set(e,"editorIcon",!0),c.default.set(e,"deleteIcon",!0),c.default.set(e,"isShowBtn",!1),c.default.set(e,"isActive",!1),c.default.set(e,"isOpen",!0),c.default.set(e,"isFirst",!1),5===t.getKeylength(e.key)?c.default.set(e,"isThree",!0):c.default.set(e,"isThree",!1),e.hasOwnProperty("list")&&e.list.length>0&&t.initTreeData(e.list),e})},generateKey:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];return e=e.map(function(e,s){return e.key=i+"-"+s.toString(),e.hasOwnProperty("list")&&e.list.length>0&&t.generateKey(e.list,e.key),e})},getKeylength:function(t){return t.split("-").length},selectIcon:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.map(function(e){var i=t.getKeylength(e.key);2===i?(e.addIcon=!1,e.editorIcon=!0,e.deleteIcon=!0,e.isFirst=!1):3===i?(e.addIcon=!0,e.editorIcon=!1,e.deleteIcon=!1):4===i&&(e.addIcon=!1,e.editorIcon=!0,e.deleteIcon=!0),e.hasOwnProperty("list")&&e.list.length>0&&t.selectIcon(e.list)})},treeDataById:function(){var t={};return function e(i){i.forEach(function(i){i.hasOwnProperty("express_company_id")&&(t[i.express_company_id]=i),i.hasOwnProperty("list")&&i.list.length>0&&e(i.list)})}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),t},changeSelecte:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e)e.hasOwnProperty(i)&&(e[i].isActive=t===i)}},d={components:{ZTree:s.default,EpCompanyDialog:a.default},data:function(){return{list:[],cateDialogVisible:!1,cateDialongInputVal:"",cateDialogTitle:"",dialogAddId:"",dialogEditId:"",deleteDialogVisible:!1,dialogDelId:"",isShowAddBtn:!1,currentCompany:{}}},created:function(){this.getCategoryList()},computed:{cateDialogShowBtn:function(){return!this.cateDialongInputVal},showCateDialogTip:function(){return o.a.getStrLen(this.cateDialongInputVal)>16}},methods:{getCategoryList:function(){var t=this;Object(n.z)({express_company_list:1}).then(function(e){0===e.ret?(t.list=e.data.list,r.generateKey(t.list,0),r.initTreeData(t.list),r.selectIcon(t.list),t.setTreeDataById()):t.$slnotify({message:l.N.toString(e.ret)})})},handlerNodeClick:function(t){r.changeSelecte("0",this.treeDataById)},setTreeDataById:function(){this.treeDataById=r.treeDataById(this.list)},openAddCateDialog:function(t){this.dialogAddId=t.express_company_id,this.cateDialogTitle="添加"+t.express_company_name,this.cateDialogVisible=!0},openEditCateDialog:function(t){this.currentCompany=t,this.dialogEditId=t.express_company_id,this.cateDialogTitle="修改"+t.express_company_name,this.cateDialongInputVal=t.express_company_name,this.cateDialogVisible=!0},initCateDialog:function(){this.cateDialongInputVal="",this.cateDialogTitle="",this.dialogAddId="",this.dialogEditId="",this.dialogDelId=""},handleCateDialogClose:function(){this.initCateDialog(),this.currentCompany={},this.cateDialogVisible=!1},cateDialogConfirm:function(){var t=this,e={express_company_save:1,express_company_name:this.cateDialongInputVal};this.dialogEditId&&(e.express_company_id=this.dialogEditId),Object(n.A)(e).then(function(e){0===e.ret?(t.getCategoryList(),t.handleCateDialogClose()):t.$slnotify({message:l.N.toString(e.ret)})})},cateDialogCancel:function(){this.initCateDialog(),this.currentCompany={},this.cateDialogVisible=!1},openDelCateDialog:function(t){this.dialogDelId=t.express_company_id,this.deleteDialogVisible=!0},dialogDelete:function(){var t=this,e={express_company_del:1,express_company_id_list:[this.dialogDelId]};Object(n.A)(e).then(function(e){0===e.ret?(t.getCategoryList(),t.deleteDialogVisible=!1):t.$slnotify({message:l.N.toString(e.ret)})})},dialogDeleteCancel:function(){this.initCateDialog(),this.deleteDialogVisible=!1},isShowBtn:function(){this.isShowAddBtn=!0},isHideBtn:function(){this.isShowAddBtn=!1},openAddDialog:function(){this.cateDialogTitle="添加快递公司",this.cateDialogVisible=!0},handleCateDialogSuccess:function(){this.handleCateDialogClose(),this.getCategoryList()}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tree-content"},[s("div",{staticClass:"add-company",on:{mouseleave:t.isHideBtn}},[s("span",{staticClass:"add-label",on:{mouseenter:t.isShowBtn}},[t._v("添加快递公司")]),t._v(" "),t.isShowAddBtn?s("i",{staticClass:"iconfont icon-tianjia add-btn",on:{click:t.openAddDialog}}):t._e()]),t._v(" "),s("div",{staticClass:"ztree"},[s("z-tree",{attrs:{"tree-data":t.list},on:{"node-click":t.handlerNodeClick,"add-category":t.openAddCateDialog,"editor-category":t.openEditCateDialog,"delete-category":t.openDelCateDialog}})],1),t._v(" "),s("el-dialog",{staticClass:"dialog-custom-b nopadding",attrs:{visible:t.deleteDialogVisible,"show-close":!1,"before-close":t.dialogDeleteCancel,width:"540px",top:"30vh"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[s("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"}),t._v(" "),s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"delete-tip"},[s("div",{staticClass:"delete-img"},[s("img",{attrs:{src:i("RrKl"),alt:"提示图片"}})]),t._v(" "),s("div",{staticClass:"delete-text"},[t._v("确认删除该快递公司？")])]),t._v(" "),s("div",{staticClass:"button-group"},[s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.dialogDelete}},[t._v("确定")]),t._v(" "),s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.dialogDeleteCancel}},[t._v("取消")])])])]),t._v(" "),s("ep-company-dialog",{attrs:{company:t.currentCompany,"cate-dialog-visible":t.cateDialogVisible,"dialog-title":t.cateDialogTitle},on:{"on-close":t.handleCateDialogClose,"on-success":t.handleCateDialogSuccess}})],1)},staticRenderFns:[]};var f=i("C7Lr")(d,u,!1,function(t){i("+Wb5")},"data-v-56a224f6",null);e.default=f.exports},ROXi:function(t,e){},ZTYR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("3cXf"),a=i.n(s),n=i("EuEE"),l=i("6nXL"),o=i("P9l9"),c=i("a2vD"),r=i("N6PA"),d={components:{CitySelect:i("9aGi").a},data:function(){return{defaultAddress:{people:{label:"发货人",value:""},addressCity:{label:"发货地区",value:""},address:{label:"地址",value:""},phone:{label:"手机",value:""}},showDefaultAddress:!1,addressList:[],editInfo:{people:"",province:"",city:"",area:"",address:"",phone:"",isDefault:!1},editCityInfo:{province:"",city:"",area:""},dialogTitleText:"",dialogVisible:!1,dialogId:"",singleDelete:!1,isShowSelectCity:!0}},computed:{isShowEditConfirm:function(){return!!(this.editInfo.people&&this.editInfo.province&&this.editInfo.city&&this.editInfo.area&&this.editInfo.address&&this.editInfo.phone)}},created:function(){this.getAddressList()},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.adjustHeight;n.a.AdjustHeight(e)})},methods:{getAddressList:function(){var t=this,e={address_list:1,address_type:1,uid:c.a.getPlatformid()};Object(o.a)(e).then(function(e){if(0===e.ret){var i=e.data.info||[],s=i.filter(function(t){return 1===t.is_default})[0]||{};"{}"!==a()(s)?(t.showDefaultAddress=!0,t.defaultAddress.people.value=s.name,t.defaultAddress.addressCity.value=""+s.province+s.city+s.area,t.defaultAddress.address.value=s.address,t.defaultAddress.phone.value=s.phone,t.defaultAddress.address_id=s.address_id,t.defaultAddress.province=s.province,t.defaultAddress.city=s.city,t.defaultAddress.area=s.area,t.defaultAddress.is_default=1):(t.showDefaultAddress=!1,t.defaultAddress.people.value="",t.defaultAddress.addressCity.value="",t.defaultAddress.address.value="",t.defaultAddress.phone.value="");var n=i.filter(function(t){return 1!==t.is_default});t.addressList=n.map(function(t,e){var i=t.address,s=t.phone,a={};return a.people={label:"发货人",value:t.name},a.addressCity={label:"发货地区",value:""+t.province+t.city+t.area},a.address={label:"地址",value:i},a.phone={label:"手机",value:s},a.title="发货地址"+(e+1),a.address_id=t.address_id,a.province=t.province,a.city=t.city,a.area=t.area,a})}else t.$slnotify({message:l.N.toString(e.ret)})})},openDialog:function(){this.dialogVisible=!0,this.dialogId?this.dialogTitleText="编辑":this.dialogTitleText="新增",this.selectCityRender()},handleClose:function(){var t=this;this.editInfo={people:"",province:"",city:"",area:"",address:"",phone:"",isDefault:!1},this.editCityInfo={province:"",city:"",area:""},setTimeout(function(){t.dialogId=""},500),this.dialogVisible=!1},dialogConfirm:function(){var t=this;if(r.b.isTelePhone(this.editInfo.phone)){var e={address_save:1,address_type:1,uid:c.a.getPlatformid(),address:this.editInfo.address,province:this.editInfo.province,city:this.editInfo.city,area:this.editInfo.area,phone:this.editInfo.phone,name:this.editInfo.people};this.dialogId&&(e.address_id=this.dialogId),this.editInfo.isDefault&&(e.is_default=1),Object(o.b)(e).then(function(e){0===e.ret?(t.handleClose(),t.getAddressList()):t.$slnotify({message:l.N.toString(e.ret)})})}else this.$notify({title:"警告",message:"请输入11位手机号码",type:"warning"})},handlerCitySelect:function(t){this.editInfo.province=t.province,this.editInfo.city=t.city,this.editInfo.area=t.blocks},handlerRadioClick:function(){this.editInfo.isDefault&&(this.editInfo.isDefault=!this.editInfo.isDefault)},singleDialogDeleteOpen:function(t){this.dialogId=t,this.singleDelete=!0},singleDialogDeleteCancel:function(){this.dialogId="",this.singleDelete=!1},singleDialogDelete:function(){var t=this,e={address_del:1,address_id_list:[this.dialogId]};Object(o.b)(e).then(function(e){0===e.ret?(t.$notify({title:"成功",message:"删除成功",type:"success"}),t.singleDialogDeleteCancel(),t.getAddressList()):t.$slnotify({message:l.N.toString(e.ret)})})},setDefaultAddress:function(t){var e=this,i={address_save:1,address_id:t,is_default:1};Object(o.b)(i).then(function(t){0===t.ret?(e.$notify({title:"成功",message:"设置成功",type:"success"}),e.getAddressList()):e.$slnotify({message:l.N.toString(t.ret)})})},editAddress:function(t){this.editInfo.people=t.people.value,this.editInfo.province=t.province,this.editInfo.city=t.city,this.editInfo.area=t.area,this.editInfo.address=t.address.value,this.editInfo.phone=t.phone.value,this.dialogId=t.address_id,this.editCityInfo.province=t.province,this.editCityInfo.city=t.city,this.editCityInfo.area=t.area,t.is_default?this.editInfo.isDefault=!0:this.editInfo.isDefault=!1,this.openDialog()},selectCityRender:function(){var t=this;this.isShowSelectCity=!1,this.$nextTick(function(){t.isShowSelectCity=!0})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"adjustHeight",staticClass:"ep-send-address",attrs:{id:"ep-send-address"}},[t.showDefaultAddress?s("div",{staticClass:"default-address card-item"},[s("div",{staticClass:"card-title change-titlerr clearfix"},[s("span",[t._v("默认地址")]),t._v(" "),s("div",{staticClass:"title-btn-group fr"},[s("span",{staticClass:"fr",on:{click:function(e){t.singleDialogDeleteOpen(t.defaultAddress.address_id)}}},[s("i",{staticClass:"iconfont icon-shanchu"}),t._v("\n                    删除\n                ")]),t._v(" "),s("span",{staticClass:"fr",on:{click:function(e){t.editAddress(t.defaultAddress)}}},[s("i",{staticClass:"iconfont icon-bianji"}),t._v("\n                    编辑\n                ")])])]),t._v(" "),s("div",{staticClass:"card-content"},t._l(t.defaultAddress,function(e,i){return s("div",{key:i,staticClass:"item clearfix"},[s("div",{staticClass:"item-left fl"},[t._v(t._s(e.label))]),t._v(" "),s("div",{staticClass:"item-right fl"},[t._v(t._s(e.value))])])}))]):t._e(),t._v(" "),t._l(t.addressList,function(e){return s("div",{key:e.address_id,staticClass:"address-list card-item"},[s("div",{staticClass:"card-title change-titlerr clearfix"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"title-btn-group fr"},[s("span",{on:{click:function(i){t.setDefaultAddress(e.address_id)}}},[s("i",{staticClass:"iconfont icon-shiliangzhinengduixiang"}),t._v("\n                    设为默认地址\n                ")]),t._v(" "),s("span",{on:{click:function(i){t.editAddress(e)}}},[s("i",{staticClass:"iconfont icon-bianji"}),t._v("\n                    编辑\n                ")]),t._v(" "),s("span",{on:{click:function(i){t.singleDialogDeleteOpen(e.address_id)}}},[s("i",{staticClass:"iconfont icon-shanchu"}),t._v("\n                    删除\n                ")])])]),t._v(" "),s("div",{staticClass:"card-content"},t._l(e,function(e,i){return s("div",{key:i,staticClass:"item clearfix"},[s("div",{staticClass:"item-left fl"},[t._v(t._s(e.label))]),t._v(" "),s("div",{staticClass:"item-right fl"},[t._v(t._s(e.value))])])}))])}),t._v(" "),s("div",{staticClass:"add-btn flex-box cross-center",on:{click:t.openDialog}},[s("img",{attrs:{src:i("Rs2e")}}),t._v(" "),s("span",[t._v("添加")])]),t._v(" "),s("el-dialog",{staticClass:"edit-dialog dialog-custom-a nopadding",attrs:{visible:t.dialogVisible,"show-close":!1,"before-close":t.handleClose,width:"540px",top:"25vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[t._v("发货信息-"+t._s(t.dialogTitleText))]),t._v(" "),s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"dl-item-content"},[s("div",{staticClass:"dl-item clearfix"},[s("div",{staticClass:"dl-item-left fl"},[s("span",{staticClass:"sl-must"},[t._v("发货人")])]),t._v(" "),s("div",{staticClass:"dl-item-right fl"},[s("el-input",{staticClass:"sl-input",attrs:{placeholder:"发货人"},model:{value:t.editInfo.people,callback:function(e){t.$set(t.editInfo,"people","string"==typeof e?e.trim():e)},expression:"editInfo.people"}})],1)]),t._v(" "),s("div",{staticClass:"dl-item clearfix"},[s("div",{staticClass:"dl-item-left fl"},[s("span",{staticClass:"sl-must"},[t._v("发货地区")])]),t._v(" "),s("div",{staticClass:"dl-item-right fl"},[t.isShowSelectCity?s("city-select",{staticClass:"ep-city-select",attrs:{cityinfo:t.editCityInfo},on:{changeProvinces:t.handlerCitySelect}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"dl-item clearfix"},[s("div",{staticClass:"dl-item-left fl"},[s("span",{staticClass:"sl-must"},[t._v("地址")])]),t._v(" "),s("div",{staticClass:"dl-item-right fl"},[s("el-input",{staticClass:"sl-input",attrs:{placeholder:"地址"},model:{value:t.editInfo.address,callback:function(e){t.$set(t.editInfo,"address","string"==typeof e?e.trim():e)},expression:"editInfo.address"}})],1)]),t._v(" "),s("div",{staticClass:"dl-item clearfix"},[s("div",{staticClass:"dl-item-left fl"},[s("span",{staticClass:"sl-must"},[t._v("手机")])]),t._v(" "),s("div",{staticClass:"dl-item-right fl"},[s("el-input",{staticClass:"sl-input",attrs:{placeholder:"手机"},model:{value:t.editInfo.phone,callback:function(e){t.$set(t.editInfo,"phone","string"==typeof e?e.trim():e)},expression:"editInfo.phone"}})],1)]),t._v(" "),this.dialogId?t._e():s("div",{staticClass:"redio-content"},[s("el-radio",{attrs:{label:!0},nativeOn:{click:function(e){return t.handlerRadioClick(e)}},model:{value:t.editInfo.isDefault,callback:function(e){t.$set(t.editInfo,"isDefault",e)},expression:"editInfo.isDefault"}},[t._v("设为默认地址")])],1)]),t._v(" "),s("div",{staticClass:"button-group"},[t.isShowEditConfirm?s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.dialogConfirm}},[t._v("确定")]):s("span",{staticClass:"sl-btn-bg-b-gray"},[t._v("确定")]),t._v(" "),s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.handleClose}},[t._v("取消")])])])]),t._v(" "),s("el-dialog",{staticClass:"dialog-custom-b nopadding",attrs:{visible:t.singleDelete,"show-close":!1,"before-close":t.singleDialogDeleteCancel,width:"540px",top:"30vh"},on:{"update:visible":function(e){t.singleDelete=e}}},[s("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"}),t._v(" "),s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"delete-tip"},[s("div",{staticClass:"delete-img"},[s("img",{attrs:{src:i("RrKl"),alt:"提示图片"}})]),t._v(" "),s("div",{staticClass:"delete-text"},[t._v("确认删除该地址？")])]),t._v(" "),s("div",{staticClass:"button-group"},[s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.singleDialogDelete}},[t._v("确定")]),t._v(" "),s("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.singleDialogDeleteCancel}},[t._v("取消")])])])])],2)},staticRenderFns:[]};var f=i("C7Lr")(d,u,!1,function(t){i("0krA"),i("jL4q")},"data-v-4898e843",null);e.default=f.exports},b2Di:function(t,e){},ccm3:function(t,e){},g4GM:function(t,e,i){"use strict";(function(t){var s=i("EuEE"),a=i("6nXL"),n=i("P9l9"),l=i("yStE");e.a={components:{ProviceCity:l.a},data:function(){return{list:[],emptyType:1,multipleSelection:[],proviceArr:[],cityArr:[],total:100,listQuery:{page:1,limit:10},isSort:!1,sortLabel:"",sortOrder:1,singleDelete:!1,deleteId:""}},created:function(){this.getList()},mounted:function(){var e=this.$refs.epcityfreghTableAdjust.$refs.bodyWrapper;this.$nextTick(function(){s.a.AdjustHeight(e)}),t(window).resize(function(){s.a.AdjustHeight(e)})},methods:{getList:function(){var t=this;Object(n.B)({get_freight_list:1}).then(function(e){0===e.ret?(t.list=e.data.list,t.list=t.list.map(function(e){return e.cityinfo={province:e.province,city:e.city,area:""},t.$set(e,"isEdit",!1),e}),t.proviceArr=t.list.map(function(t){return t.province}),t.cityArr=t.list.map(function(t){return t.city})):t.$slnotify({message:a.N.toString(e.ret)})})},sort:function(t){this.sortLabel=t.prop,"descending"===t.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===t.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getList()},handlerCitySelect:function(t,e){t.province=e.province,t.city=e.city,t.cityinfo.province=e.province,t.cityinfo.city=e.city},editClickHandler:function(t){var e=this.proviceArr.indexOf(t.province),i=this.cityArr.indexOf(t.city);-1!==e&&this.proviceArr.splice(e,1),-1!==i&&this.cityArr.splice(i,1),t.isEdit=!0},deleteClickHandler:function(t,e){this.deleteId=t.freight_id,this.deleteId?this.openDialogDelete():this.list.splice(e,1)},saveClickHandler:function(t,e){var i=this;if(t.province&&t.city&&t.first_fee&&t.add_fee&&t.first_weight&&t.add_weight)if(-1===this.proviceArr.indexOf(t.province)||-1===this.cityArr.indexOf(t.city)){var s={freight_save:1,province:t.province,city:t.city,first_fee:t.first_fee,add_fee:t.add_fee,first_weight:t.first_weight,add_weight:t.add_weight};t.freight_id&&(s.freight_id=t.freight_id),Object(n.C)(s).then(function(s){t.isEdit=!1,0===s.ret?(t.freight_id?i.$notify({title:"成功",message:"编辑成功",type:"success"}):i.$notify({title:"成功",message:"保存成功",type:"success"}),i.getList()):(i.list.splice(e,1),i.$slnotify({message:a.N.toString(s.ret)}))})}else this.$notify({title:"警告",message:"已存在该城市，不能保存",type:"warning"});else this.$notify({title:"警告",message:"请填写完整信息",type:"warning"})},cancelClickHandler:function(t,e){t.freight_id?this.getList():this.list.splice(e,1)},addClickHandler:function(){var t=this;this.list.push({cityinfo:{province:"",city:"",area:""},province:"",city:"",first_weight:"",first_fee:"",add_weight:"",add_fee:"",isEdit:!0}),this.$nextTick(function(){var e=t.$refs.epcityfreghTableAdjust.$refs.bodyWrapper;e.scrollTop=e.scrollHeight})},openDialogDelete:function(){this.singleDelete=!0},singleDialogDeleteCancel:function(){this.singleDelete=!1,this.deleteId=""},singleDialogDelete:function(){var t=this,e={freight_del:1,freight_id_list:[this.deleteId]};Object(n.C)(e).then(function(e){0===e.ret?(t.$slnotify({message:"删除成功"}),t.singleDialogDeleteCancel(),t.getList()):t.$slnotify({message:a.N.toString(e.ret)})})},checkInput:function(t,e){t[e]=s.a.clearNoNum(t[e])}}}}).call(e,i("L7Pj"))},jL4q:function(t,e){},qaAk:function(t,e){},rFqa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("1sqV"),a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bill-freght"},[i("div",{staticClass:"search-content clearfix"},[i("div",{staticClass:"search-item fl"},[i("span",{staticClass:"label-title"},[t._v("物流公司")]),t._v(" "),i("el-select",{staticClass:"change-input",attrs:{placeholder:"全部"},model:{value:t.selectCompany,callback:function(e){t.selectCompany=e},expression:"selectCompany"}},t._l(t.companyOption,function(t){return i("el-option",{key:t.express_company_id,attrs:{label:t.express_company_name,value:t.express_company_id}})}))],1),t._v(" "),i("div",{staticClass:"search-item fl"},[i("span",{staticClass:"label-title"},[t._v("发货时间")]),t._v(" "),i("el-date-picker",{attrs:{"unlink-panels":"",editable:!1,type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.sendTime,callback:function(e){t.sendTime=e},expression:"sendTime"}})],1),t._v(" "),i("div",{staticClass:"sl-btn-bd-search fl",on:{click:t.search}},[t._v("搜索")])]),t._v(" "),i("div",{staticClass:"table-content change-default-table change-default"},[i("el-table",{ref:"billFreghtListTableAdjust",attrs:{data:t.list,stripe:""},on:{"sort-change":t.sort}},[i("el-table-column",{attrs:{prop:"num_no",label:"序号",width:"55",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"1",label:"订单编号","min-width":"80",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.goods_order_id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"4",label:"发货时间","min-width":"80",align:"center",sortable:"true","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.deliver_time_str))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"express_company_name",label:"物流公司","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.express_company_name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"goods_name",label:"物流单号","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.express_num))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"goods_name",label:"操作","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"blue-text",on:{click:function(i){t.goOrderInfo(e.row.goods_order_id)}}},[t._v("查看")])]}}])})],1),t._v(" "),t.isListEmpty?i("empty-table",{attrs:{type:t.emptyType}}):t._e()],1),t._v(" "),i("div",{staticClass:"pagination-contentrr change-pagination-default"},[i("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,40],"page-size":t.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)])},staticRenderFns:[]};var n=function(t){i("b2Di"),i("F1VY")},l=i("C7Lr")(s.a,a,!1,n,"data-v-9bb98120",null);e.default=l.exports},t0I4:function(t,e){},t4ul:function(t,e){},ul3q:function(t,e){},wNW2:function(t,e){},yStE:function(t,e,i){"use strict";var s=i("zaCU"),a=i.n(s),n={props:{cityinfo:{type:Object,default:function(){return{province:"",city:"",area:""}}},isSelectError:{type:Boolean/String,default:!1}},data:function(){return{provinces:a.a,selectedProvince:"",selectedCity:"",selectedBlock:"",cities:[],provincesObj:{},citiesObj:{},bloksObj:{},blocks:[]}},computed:{isError:function(){return this.isSelectError},info:function(){var t={};return t.province=this.provincesObj[this.selectedProvince]&&void 0!==this.provincesObj[this.selectedProvince]?this.provincesObj[this.selectedProvince].value:"",t.city=this.citiesObj[this.selectedCity]&&void 0!==this.citiesObj[this.selectedCity]?this.citiesObj[this.selectedCity].value:"",t.blocks=this.bloksObj[this.selectedBlock]&&void 0!==this.bloksObj[this.selectedBlock]?this.bloksObj[this.selectedBlock].value:"",t}},created:function(){this.initareaCode(),this.initData()},watch:{cityinfo:{handler:function(){this.initData()},deep:!0}},methods:{initData:function(){var t=this,e=this.cityinfo.province,i=this.cityinfo.city,s=this.cityinfo.area;if(void 0!==e||void 0!==i||void 0!==s){for(var a in this.provincesObj)if(this.provincesObj.hasOwnProperty(a)){var n=this.provincesObj[a];if(n.value&&e===n.value){this.selectedProvince=a;break}}for(var l in this.citiesObj)if(this.citiesObj.hasOwnProperty(l)){var o=this.citiesObj[l];if(o.value&&i===o.value){this.selectedCity=l;break}}this.citiesObj[this.selectedCity]&&this.citiesObj[this.selectedCity].children&&this.citiesObj[this.selectedCity].children.length>0&&this.citiesObj[this.selectedCity].children.forEach(function(e){e.value===s&&(t.selectedBlock=e.value)}),this.provincesObj[this.selectedProvince]&&this.provincesObj[this.selectedProvince].children&&(this.cities=this.provincesObj[this.selectedProvince].children),this.citiesObj[this.selectedCity]&&this.citiesObj[this.selectedCity].children&&(this.blocks=this.citiesObj[this.selectedCity].children)}},initareaCode:function(){var t={},e={},i={};(a.a||[]).forEach(function(s){if(s.children){var a=s.children||[];t[s.adcode]=s,a.forEach(function(t){t.value&&t.children&&t.children.length>0&&t.value===t.children[0].value&&t.children.splice(0,1),e[t.adcode]=t,(t.children||[]).forEach(function(t){i[t.adcode]=t})})}}),this.provincesObj=t,this.citiesObj=e,this.bloksObj=i},changeProvinces:function(){this.cities=this.provincesObj[this.selectedProvince].children,this.blocks=this.citiesObj[this.cities[0].adcode].children,this.selectedCity="",this.selectedBlock="",this.$emit("changeProvinces",this.info)},changeCity:function(){this.citiesObj[this.selectedCity]&&this.citiesObj[this.selectedCity].children&&(this.blocks=this.citiesObj[this.selectedCity].children),this.selectedBlock="",this.$emit("changeProvinces",this.info)},changeBlock:function(){this.$emit("changeProvinces",this.info)}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"city-select"}},[i("el-select",{class:{"error-tip":t.isError},attrs:{placeholder:"请选择"},on:{change:t.changeProvinces},model:{value:t.selectedProvince,callback:function(e){t.selectedProvince=e},expression:"selectedProvince"}},t._l(t.provinces,function(t){return i("el-option",{key:t.adcode,attrs:{label:t.value,value:t.adcode}})})),t._v(" "),i("el-select",{class:{"error-tip":t.isError},attrs:{name:"province"},on:{change:t.changeCity},model:{value:t.selectedCity,callback:function(e){t.selectedCity=e},expression:"selectedCity"}},t._l(t.cities,function(t){return i("el-option",{key:t.adcode,attrs:{label:t.value,value:t.adcode}})}))],1)},staticRenderFns:[]};var o=i("C7Lr")(n,l,!1,function(t){i("CYhw"),i("ROXi")},"data-v-56b084e6",null);e.a=o.exports}});