webpackJsonp([105],{"+Wb5":function(t,e){},PR51:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("hWzV"),n=i("obFi"),s=i("P9l9"),o=i("6nXL"),l=i("EuEE"),d=i("IvJb"),c={initTreeData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.map(function(e){return d.default.set(e,"addIcon",!0),d.default.set(e,"editorIcon",!0),d.default.set(e,"deleteIcon",!0),d.default.set(e,"isShowBtn",!1),d.default.set(e,"isActive",!1),d.default.set(e,"isOpen",!0),d.default.set(e,"isFirst",!1),5===t.getKeylength(e.key)?d.default.set(e,"isThree",!0):d.default.set(e,"isThree",!1),e.hasOwnProperty("list")&&e.list.length>0&&t.initTreeData(e.list),e})},generateKey:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];return e=e.map(function(e,a){return e.key=i+"-"+a.toString(),e.hasOwnProperty("list")&&e.list.length>0&&t.generateKey(e.list,e.key),e})},getKeylength:function(t){return t.split("-").length},selectIcon:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.map(function(e){var i=t.getKeylength(e.key);2===i?(e.addIcon=!1,e.editorIcon=!0,e.deleteIcon=!0,e.isFirst=!1):3===i?(e.addIcon=!0,e.editorIcon=!1,e.deleteIcon=!1):4===i&&(e.addIcon=!1,e.editorIcon=!0,e.deleteIcon=!0),e.hasOwnProperty("list")&&e.list.length>0&&t.selectIcon(e.list)})},treeDataById:function(){var t={};return function e(i){i.forEach(function(i){i.hasOwnProperty("express_company_id")&&(t[i.express_company_id]=i),i.hasOwnProperty("list")&&i.list.length>0&&e(i.list)})}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),t},changeSelecte:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e)e.hasOwnProperty(i)&&(e[i].isActive=t===i)}},r={components:{ZTree:a.default,EpCompanyDialog:n.default},data:function(){return{list:[],cateDialogVisible:!1,cateDialongInputVal:"",cateDialogTitle:"",dialogAddId:"",dialogEditId:"",deleteDialogVisible:!1,dialogDelId:"",isShowAddBtn:!1,currentCompany:{}}},created:function(){this.getCategoryList()},computed:{cateDialogShowBtn:function(){return!this.cateDialongInputVal},showCateDialogTip:function(){return l.a.getStrLen(this.cateDialongInputVal)>16}},methods:{getCategoryList:function(){var t=this;Object(s.z)({express_company_list:1}).then(function(e){0===e.ret?(t.list=e.data.list,c.generateKey(t.list,0),c.initTreeData(t.list),c.selectIcon(t.list),t.setTreeDataById()):t.$slnotify({message:o.N.toString(e.ret)})})},handlerNodeClick:function(t){c.changeSelecte("0",this.treeDataById)},setTreeDataById:function(){this.treeDataById=c.treeDataById(this.list)},openAddCateDialog:function(t){this.dialogAddId=t.express_company_id,this.cateDialogTitle="添加"+t.express_company_name,this.cateDialogVisible=!0},openEditCateDialog:function(t){this.currentCompany=t,this.dialogEditId=t.express_company_id,this.cateDialogTitle="修改"+t.express_company_name,this.cateDialongInputVal=t.express_company_name,this.cateDialogVisible=!0},initCateDialog:function(){this.cateDialongInputVal="",this.cateDialogTitle="",this.dialogAddId="",this.dialogEditId="",this.dialogDelId=""},handleCateDialogClose:function(){this.initCateDialog(),this.currentCompany={},this.cateDialogVisible=!1},cateDialogConfirm:function(){var t=this,e={express_company_save:1,express_company_name:this.cateDialongInputVal};this.dialogEditId&&(e.express_company_id=this.dialogEditId),Object(s.A)(e).then(function(e){0===e.ret?(t.getCategoryList(),t.handleCateDialogClose()):t.$slnotify({message:o.N.toString(e.ret)})})},cateDialogCancel:function(){this.initCateDialog(),this.currentCompany={},this.cateDialogVisible=!1},openDelCateDialog:function(t){this.dialogDelId=t.express_company_id,this.deleteDialogVisible=!0},dialogDelete:function(){var t=this,e={express_company_del:1,express_company_id_list:[this.dialogDelId]};Object(s.A)(e).then(function(e){0===e.ret?(t.getCategoryList(),t.deleteDialogVisible=!1):t.$slnotify({message:o.N.toString(e.ret)})})},dialogDeleteCancel:function(){this.initCateDialog(),this.deleteDialogVisible=!1},isShowBtn:function(){this.isShowAddBtn=!0},isHideBtn:function(){this.isShowAddBtn=!1},openAddDialog:function(){this.cateDialogTitle="添加快递公司",this.cateDialogVisible=!0},handleCateDialogSuccess:function(){this.handleCateDialogClose(),this.getCategoryList()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree-content"},[a("div",{staticClass:"add-company",on:{mouseleave:t.isHideBtn}},[a("span",{staticClass:"add-label",on:{mouseenter:t.isShowBtn}},[t._v("添加快递公司")]),t._v(" "),t.isShowAddBtn?a("i",{staticClass:"iconfont icon-tianjia add-btn",on:{click:t.openAddDialog}}):t._e()]),t._v(" "),a("div",{staticClass:"ztree"},[a("z-tree",{attrs:{"tree-data":t.list},on:{"node-click":t.handlerNodeClick,"add-category":t.openAddCateDialog,"editor-category":t.openEditCateDialog,"delete-category":t.openDelCateDialog}})],1),t._v(" "),a("el-dialog",{staticClass:"dialog-custom-b nopadding",attrs:{visible:t.deleteDialogVisible,"show-close":!1,"before-close":t.dialogDeleteCancel,width:"540px",top:"30vh"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"}),t._v(" "),a("div",{staticClass:"dialog-content"},[a("div",{staticClass:"delete-tip"},[a("div",{staticClass:"delete-img"},[a("img",{attrs:{src:i("RrKl"),alt:"提示图片"}})]),t._v(" "),a("div",{staticClass:"delete-text"},[t._v("确认删除该快递公司？")])]),t._v(" "),a("div",{staticClass:"button-group"},[a("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.dialogDelete}},[t._v("确定")]),t._v(" "),a("span",{staticClass:"sl-btn-bd-b-blue",on:{click:t.dialogDeleteCancel}},[t._v("取消")])])])]),t._v(" "),a("ep-company-dialog",{attrs:{company:t.currentCompany,"cate-dialog-visible":t.cateDialogVisible,"dialog-title":t.cateDialogTitle},on:{"on-close":t.handleCateDialogClose,"on-success":t.handleCateDialogSuccess}})],1)},staticRenderFns:[]};var h=i("C7Lr")(r,g,!1,function(t){i("+Wb5")},"data-v-56a224f6",null);e.default=h.exports}});