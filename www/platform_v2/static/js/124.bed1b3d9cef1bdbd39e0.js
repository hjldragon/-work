webpackJsonp([124],{Pv8x:function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("3cXf"),o=n.n(s),e=n("rUdh"),a=n("P9l9"),c=n("6nXL"),r=n("a2vD"),_={components:{accessPage:e.e},data:function(){return{agent_id:r.a.getAgentid(),list:JSON.parse(o()(e.a)),checkBox:{},position_id:null,position_name:"",showPermi:!1,is_disable:!1,platform:2}},created:function(){this.InitData(),this.getList()},methods:{InitData:function(){this.position_id=this.$route.query.position_id||null},getList:function(){var i=this;if(this.position_id){var t={agent_id:this.agent_id,get_ag_position_info:1,ag_position_id:this.position_id};Object(a.e)(t).then(function(t){if(console.log("得到数据",t),0==t.ret){var n=t.data.position_info;i.position_name=n.ag_position_name,"[object Object]"!==Object.prototype.toString.call(n.ag_position_permission)&&(n.ag_position_permission={}),i.checkBox=n.ag_position_permission,i.showPermi=!0,1==n.entry_type&&(i.is_disable=!0)}})}else this.showPermi=!0},cancelInfo:function(){this.$router.push({path:"/agent/area/organize",query:{activIndex:"2"}})},save:function(i){var t=this;console.log("得到参数=>");var n={ag_position_save:1,agent_id:this.agent_id,ag_position_permission:i.permission,ag_position_name:i.name};this.position_id&&(n.ag_position_id=this.position_id),console.log("提交的权限资料=>",n),Object(a.f)(n).then(function(i){0==i.ret?(t.$slnotify({message:"保存成功",duration:1500}),t.cancelInfo()):t.$slnotify({message:c.N.toString(i.ret),duration:1500})})}}},p={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[i.showPermi?n("access-page",{attrs:{list:i.list,platform:i.platform,position_name:i.position_name,is_disable:i.is_disable,position_id:i.position_id,checkBox:i.checkBox},on:{close:i.cancelInfo,save:i.save}},[n("div",{staticClass:"header nav-own-bar",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"cant-click-nav",on:{click:i.cancelInfo}},[i._v("组织管理")]),i._v(" "),n("span",[i._v(">")]),i._v(" "),n("span",{staticClass:"can-click-nav",on:{click:i.cancelInfo}},[i._v("职级管理")]),i._v(" "),n("span",[i._v(">")]),i._v(" "),i.position_id?n("span",{staticClass:"current-nav"},[i._v("编辑职位信息")]):n("span",{staticClass:"current-nav"},[i._v("添加职位")])])]):i._e()],1)},staticRenderFns:[]};var l=n("C7Lr")(_,p,!1,function(i){n("RrAs")},"data-v-1821b34b",null);t.default=l.exports},RrAs:function(i,t){}});