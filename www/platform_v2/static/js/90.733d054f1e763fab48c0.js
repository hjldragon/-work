webpackJsonp([90],{Zq3j:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("IHPB"),a=e.n(s),o=e("4YfN"),n=e.n(o),l=e("9rMa"),c=e("UnC9"),r=e("Jpdf"),g=e.n(r),d=e("7+am"),m=e("//xf"),u=e("2KmN"),_={components:{SlUpload:c.a,draggable:g.a,PrePicture:d.a,SelectCate:m.default,TreeDialog:u.default},data:function(){return{name:"",imgList:[],base_url:"./php",isDragging:!1,dragOptions:{animation:300,group:"description",ghostClass:"ghost"},preImg:"",showPicture:!1,cateDialogVisiable:!1,isShowCate:!0}},computed:n()({},Object(l.d)({good_id:function(t){return t.shopmall_goods.good_id},good_name:function(t){return t.shopmall_goods.good_name},good_img_list:function(t){return t.shopmall_goods.good_img_list}}),{imgNumber:function(){return this.imgList.length}}),watch:{good_name:function(t){this.name=t},good_img_list:function(t){this.imgList=t}},created:function(){this.good_img_list&&0!==this.good_img_list.length&&(this.imgList=[].concat(a()(this.good_img_list)))},methods:n()({},Object(l.c)(["SMG_SET_GOODNAME","SMG_SET_GOODIMG"]),{dragend:function(){this.isDragging=!1,this.SMG_SET_GOODIMG({good_img_list:[].concat(a()(this.imgList))})},imgChangeHandler:function(t){-1===this.imgList.indexOf(t)?(this.imgList.push(t),this.SMG_SET_GOODIMG({good_img_list:[].concat(a()(this.imgList))})):this.$notify({title:"警告",message:"重复图片",type:"warning"})},isshowPicture:function(t){this.preImg=this.imgList[t],this.showPicture=!0},deletePicture:function(t){this.imgList.splice(t,1),this.SMG_SET_GOODIMG({good_img_list:[].concat(a()(this.imgList))})},isclosePicture:function(){this.showPicture=!1},handlerInputName:function(){this.SMG_SET_GOODNAME({good_name:this.name})},openCateDiolog:function(){this.cateDialogVisiable=!0,this.forbidScroll()},closeCateDialog:function(){this.cateDialogVisiable=!1,this.forbidScroll(),this.rerender()},forbidScroll:function(){if(!0===this.cateDialogVisiable){var t=document.getElementsByTagName("html")[0],i=document.getElementsByTagName("body")[0];scrollTo(0,0),t.style.overflow="hidden",i.style.overflow="hidden"}else if(!1===this.cateDialogVisiable){var e=document.getElementsByTagName("html")[0],s=document.getElementsByTagName("body")[0];e.style.overflow="auto",s.style.overflow="auto"}},rerender:function(){this.isShowCate=!1,this.$nextTick(function(){this.isShowCate=!0})}})},h={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"base-content"},[s("h3",{staticClass:"title change-titlerr"},[t._v("基础设置")]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"edit-item clearfix good-id"},[t._m(0),t._v(" "),s("div",{staticClass:"edit-content fl"},[t._v(t._s(this.good_id))])]),t._v(" "),s("div",{staticClass:"edit-item clearfix good-name"},[t._m(1),t._v(" "),s("div",{staticClass:"edit-content fl"},[s("el-input",{attrs:{placeholder:"请输入商品名称"},on:{change:t.handlerInputName},model:{value:t.name,callback:function(i){t.name="string"==typeof i?i.trim():i},expression:"name"}})],1)]),t._v(" "),s("div",{staticClass:"edit-item clearfix good-cate"},[t._m(2),t._v(" "),s("div",{staticClass:"edit-content fl"},[t.isShowCate?s("select-cate",{on:{"open-category":t.openCateDiolog}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"edit-item clearfix good-img"},[t._m(3),t._v(" "),s("div",{staticClass:"edit-content fl clearfix"},[s("draggable",{staticClass:"picture-group clearfix fl",attrs:{element:"ul",options:t.dragOptions},on:{start:function(i){t.isDragging=!0},end:t.dragend},model:{value:t.imgList,callback:function(i){t.imgList=i},expression:"imgList"}},t._l(t.imgList,function(i,e){return s("li",{key:e,staticClass:"fl"},[s("img",{attrs:{src:t.base_url+"/img_get.php?img=1&imgname="+i,alt:"good-img"}}),t._v(" "),s("span",{staticClass:"picture-actions"},[s("span",{staticClass:"picture-preview",on:{click:function(i){t.isshowPicture(e)}}},[s("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),s("span",{staticClass:"picture-delete",on:{click:function(i){t.deletePicture(e)}}},[s("i",{staticClass:"el-icon-delete"})])])])})),t._v(" "),t.imgNumber?t._e():s("div",{staticClass:"default-img fl"},[s("img",{attrs:{src:e("SEhC")}})]),t._v(" "),s("div",{staticClass:"upload fl"},[s("sl-upload",{attrs:{"img-number":t.imgNumber,"image-size":1024,"check-square":!0},on:{"send-image":t.imgChangeHandler}}),t._v(" "),s("div",{staticClass:"img-tip"},[t._v("注：最多可上传五张图片，支持jpg、jpeg、png文件格式，尺寸建议750px*750px，大小不得大于1M")])],1)],1)])]),t._v(" "),t.showPicture?s("pre-picture",{attrs:{"img-src":t.preImg},on:{clickit:t.isclosePicture}}):t._e(),t._v(" "),s("tree-dialog",{attrs:{"cate-dialog-visiable":t.cateDialogVisiable},on:{"on-close":t.closeCateDialog,"on-confirm":t.closeCateDialog}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",[this._v("商品编号")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",{staticClass:"sl-must"},[this._v("商品名称")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",{staticClass:"sl-must"},[this._v("商品分类")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"edit-label fl"},[i("span",[this._v("图片")])])}]};var f=e("C7Lr")(_,h,!1,function(t){e("fOGs")},"data-v-a709330c",null);i.default=f.exports},fOGs:function(t,i){}});