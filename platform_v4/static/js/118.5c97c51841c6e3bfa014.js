webpackJsonp([118],{HpHm:function(e,t){},yviN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("6ROu"),a=s.n(i),n=s("P9l9"),l=s("r2UX"),r=(s("EuEE"),s("a2vD")),o=s("6nXL"),c={data:function(){return{forever:"永久",account:"",merchantName:"",shopName:"",resourcesId:"",loginTime:[],login_begin_time:"",login_end_time:"",emptyType:1,total:10,listQuery:{page:1,limit:10},tableData:[]}},created:function(){this.getList()},components:{EmptyTable:l.a},mounted:function(){this.$refs.resourcesTableAgent.$refs.bodyWrapper.style.minHeight="473px"},computed:{isListEmpty:function(){return 0===this.tableData.length}},methods:{getList:function(){var e=this,t={resources_list:1,agent_id:r.a.getAgentid(),page_size:this.listQuery.limit,page_no:this.listQuery.page};this.shopName&&(t.shop_name=this.shopName),this.resourcesId&&(t.resources_id=this.resourcesId),this.login_begin_time&&this.login_end_time&&(t.login_begin_time=this.login_begin_time,t.login_end_time=this.login_end_time),Object(n._5)(t).then(function(t){0===t.ret?(e.tableData=t.data.list,e.listQuery.page>1&&0===e.tableData.length&&(e.listQuery.page--,e.getList()),e.total=t.data.total,e.tableData.map(function(t){t.last_use_time?t.login_time=a()(1e3*t.last_use_time).format("YYYY.MM.DD HH:mm"):t.login_time="--",t.resources_type?t.resources_type_txt=o.O.toString(t.resources_type):t.resources_type_txt="--",t.over_time&&t.over_time==e.forever?t.time_long=t.over_time:t.time_long||(t.time_long="--"),t.over_time||(t.over_time="--")})):e.$slnotify({message:o.X.toString(t.ret)})})},search:function(){this.listQuery.page=1,this.getList()},chooseCreatTime:function(){if(this.loginTime){var e=this.loginTime[0],t=this.loginTime[1];this.login_begin_time=parseInt(a()(e).format("X")),this.login_end_time=parseInt(a()(t).format("X"))+86400}else this.login_begin_time="",this.login_end_time=""},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"agent-resources-page"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"resources-content"},[s("div",{staticClass:"search-content clearfix search-content-width-fix",attrs:{id:"search-official"}},[s("div",{staticClass:"row-content"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[e._m(2),e._v(" "),s("div",{staticClass:"fl"},[s("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.shopName,callback:function(t){e.shopName=t},expression:"shopName"}})],1)]),e._v(" "),s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[e._m(3),e._v(" "),s("div",{staticClass:"fl"},[s("el-input",{attrs:{placeholder:"请输入授权ID"},model:{value:e.resourcesId,callback:function(t){e.resourcesId=t},expression:"resourcesId"}})],1)]),e._v(" "),s("div",{staticClass:"name fl clearfix search-item margin-left-six"},[e._m(4),e._v(" "),s("div",{staticClass:"fl"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.chooseCreatTime},model:{value:e.loginTime,callback:function(t){e.loginTime=t},expression:"loginTime"}})],1)]),e._v(" "),s("div",{staticClass:"search-btn  of-btn-bd-search fl",on:{click:e.search}},[e._v("\n            搜索\n          ")])])])]),e._v(" "),s("div",{staticClass:"terminal-table change-default"},[s("el-table",{ref:"resourcesTableAgent",attrs:{data:e.tableData,stripe:""}},[s("el-table-column",{attrs:{label:"授权ID","min-width":"30",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.resources_id)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"终端名称","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.resources_type_txt)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"授权总时间","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.time_long)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"剩余时间","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.over_time)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"登录时间","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.login_time)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"登录店铺","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.shop_name)+"\n            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"所属商户","min-width":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.shop_name)+"\n            ")])]}}])})],1),e._v(" "),s("div",{staticClass:"page"},[s("div",{staticClass:"pagination-content change-pagination-default"},[s("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,40],"page-size":e.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.$set(e.listQuery,"page",t)},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)]),e._v(" "),e.isListEmpty?s("empty-table",{attrs:{type:e.emptyType}}):e._e()],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav-own-bar"},[t("span",{staticClass:"cant-click-nav"},[this._v("商户管理")]),this._v("\n    >\n    "),t("span",{staticClass:"current-nav"},[this._v("授权管理")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"official-title-bar"},[t("span",[this._v("授权列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("店铺名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("授权ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("登录时间")])])}]};var _=s("C7Lr")(c,u,!1,function(e){s("HpHm")},"data-v-6b25ae88",null);t.default=_.exports}});